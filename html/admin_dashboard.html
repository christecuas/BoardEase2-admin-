<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BoardEase Admin Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/admin_dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f5f5;
            color: #333;
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: #8D6E63;
            color: white;
            position: fixed;
            height: 100vh;
            left: 0;
            top: 0;
            z-index: 1000;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        .sidebar-header {
            padding: 2rem 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-header h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: white;
        }

        .sidebar-nav {
            padding: 1rem 0;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.1);
            border-left-color: #A97A50;
        }

        .nav-item.active {
            background: rgba(255,255,255,0.15);
            border-left-color: #A97A50;
            font-weight: 600;
        }

        .nav-item i {
            margin-right: 1rem;
            width: 20px;
            text-align: center;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 2rem;
        }

        .content-header {
            background: white;
            padding: 1.5rem 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .content-header h1 {
            font-size: 2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .content-header p {
            color: #666;
            font-size: 1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .stat-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            margin: 0 auto 1rem;
        }

        .stat-content h3 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .stat-content p {
            color: #666;
            font-size: 1rem;
            font-weight: 500;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .priority-section {
            background: linear-gradient(135deg, #8D6E63 0%, #A97A50 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .priority-section h2 {
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .pending-approvals {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        .dashboard-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .card-header {
            background: linear-gradient(135deg, #8D6E63 0%, #A97A50 100%);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-header h3 {
            font-size: 1.3rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-content {
            padding: 1.5rem;
        }

        .action-btn {
            background: #8D6E63;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .action-btn:hover {
            background: #A97A50;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .action-btn.danger {
            background: #dc3545;
        }

        .action-btn.danger:hover {
            background: #c82333;
        }

        .action-btn.success {
            background: #28a745;
        }

        .action-btn.success:hover {
            background: #218838;
        }

        .user-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .user-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .user-item:last-child {
            border-bottom: none;
        }

        .user-info-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .status-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-inactive {
            background: #f8d7da;
            color: #721c24;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 1.5rem;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: black;
        }

        .recent-activity {
            max-height: 300px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }

        .activity-content {
            flex: 1;
        }

        .activity-content h4 {
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .activity-content p {
            font-size: 0.8rem;
            color: #666;
        }

        .activity-time {
            font-size: 0.8rem;
            color: #999;
        }

        .approval-card {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .approval-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .approval-user {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .approval-actions {
            display: flex;
            gap: 0.5rem;
        }

        .approval-details {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.75rem;
        }

        .verification-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.5rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .verification-verified {
            background: #d4edda;
            color: #155724;
        }

        .verification-pending {
            background: #fff3cd;
            color: #856404;
        }

        .verification-failed {
            background: #f8d7da;
            color: #721c24;
        }

        .email-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .email-sent {
            color: #28a745;
        }

        .email-failed {
            color: #dc3545;
        }

        .registration-date {
            font-size: 0.8rem;
            color: #999;
            margin-top: 0.5rem;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid #e9ecef;
            margin-bottom: 0;
            background: #f8f9fa;
        }

        .tab {
            padding: 1rem 1.5rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
            color: #666;
        }

        .tab:hover {
            background: rgba(141, 110, 99, 0.1);
            color: #8D6E63;
        }

        .tab.active {
            border-bottom-color: #8D6E63;
            color: #8D6E63;
            font-weight: 600;
            background: white;
        }

        .tab-content {
            display: none;
            padding: 0;
        }

        .tab-content.active {
            display: block;
        }

        .tab-content .card-content {
            padding: 1.5rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: 1rem;
            }

            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 1rem;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .pending-approvals {
                grid-template-columns: 1fr;
            }

            .content-header {
                padding: 1rem;
            }

            .content-header h1 {
                font-size: 1.5rem;
            }
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1001;
            background: #8D6E63;
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 8px;
            font-size: 1.2rem;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }
        }

        /* Section Management */
        .content-section {
            display: none;
            width: 100%;
        }

        .content-section.active {
            display: block;
        }

        .content-section .content-header {
            margin-bottom: 2rem;
        }

        /* Table Styling */
        .data-table {
            width: 100%;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .table-header {
            background: linear-gradient(135deg, #8D6E63 0%, #A97A50 100%);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-header h3 {
            font-size: 1.3rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .table-filters {
            display: flex;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #8D6E63;
            background: white;
            color: #8D6E63;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-btn.active {
            background: #8D6E63;
            color: white;
        }

        .filter-btn:hover {
            background: #8D6E63;
            color: white;
        }

        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .user-info-cell {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .user-avatar-small {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .status-badge-table {
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .notification-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 1px solid #e9ecef;
            transition: background 0.3s ease;
        }

        .notification-item:hover {
            background: #f8f9fa;
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: white;
        }

        .notification-content {
            flex: 1;
        }

        .notification-content h4 {
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
            color: #333;
        }

        .notification-content p {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 0.25rem;
        }

        .notification-time {
            font-size: 0.8rem;
            color: #999;
        }

        .compose-notification {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .compose-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .compose-header h3 {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Boarding Houses Section Styling */
        .owner-boarding-houses {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .owner-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            border-left: 4px solid #8D6E63;
        }

        .owner-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e9ecef;
        }

        .property-count {
            background: #8D6E63;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .boarding-houses-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .boarding-house-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .boarding-house-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .house-info {
            flex: 1;
        }

        .house-info strong {
            display: block;
            margin-bottom: 0.25rem;
            color: #333;
        }

        .house-info p {
            margin: 0;
            color: #666;
            font-size: 0.9rem;
        }

         .house-status {
             display: flex;
             align-items: center;
             gap: 1rem;
         }

         /* Button Container Styling for Single Line */
         .action-buttons-container {
             display: flex;
             gap: 0.5rem;
             flex-wrap: nowrap;
             align-items: center;
         }

         .action-buttons-container .action-btn {
             white-space: nowrap;
             padding: 0.5rem 0.75rem;
             font-size: 0.8rem;
             min-width: auto;
         }

         /* User Management Table Button Styling */
         #user-management-section .action-btn {
             white-space: nowrap;
             padding: 0.5rem 0.75rem;
             font-size: 0.8rem;
             margin-left: 0.25rem;
         }

         /* Notifications Section Button Styling */
         #notifications-section .action-btn {
             white-space: nowrap;
             padding: 0.5rem 0.75rem;
             font-size: 0.8rem;
         }

         /* Report and Settings Card Styling */
         .report-card, .settings-card {
             background: white;
             border-radius: 10px;
             padding: 1.5rem;
             box-shadow: 0 2px 8px rgba(0,0,0,0.1);
             text-align: center;
             transition: transform 0.3s ease, box-shadow 0.3s ease;
         }

         .report-card:hover, .settings-card:hover {
             transform: translateY(-3px);
             box-shadow: 0 4px 15px rgba(0,0,0,0.15);
         }

         .report-icon, .settings-icon {
             width: 60px;
             height: 60px;
             border-radius: 50%;
             display: flex;
             align-items: center;
             justify-content: center;
             font-size: 1.5rem;
             color: white;
             margin: 0 auto 1rem;
         }

         .report-card h4, .settings-card h4 {
             font-size: 1.2rem;
             font-weight: 600;
             margin-bottom: 0.5rem;
             color: #333;
         }

         .report-card p, .settings-card p {
             color: #666;
             font-size: 0.9rem;
             margin-bottom: 1rem;
             line-height: 1.4;
         }

         /* Analytics Styling */
         .analytics-grid {
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
             gap: 1.5rem;
         }

         .analytics-item {
             display: flex;
             align-items: center;
             gap: 1rem;
             padding: 1rem;
             background: #f8f9fa;
             border-radius: 8px;
         }

         .analytics-chart {
             flex: 1;
         }

         .analytics-info h4 {
             font-size: 1rem;
             font-weight: 600;
             margin-bottom: 0.25rem;
             color: #333;
         }

         .analytics-info p {
             font-size: 0.8rem;
             color: #666;
             margin-bottom: 0.5rem;
         }

         .analytics-trend {
             font-size: 0.9rem;
             font-weight: 600;
             padding: 0.25rem 0.5rem;
             border-radius: 15px;
         }

         .analytics-trend.positive {
             background: #d4edda;
             color: #155724;
         }

         .analytics-trend.negative {
             background: #f8d7da;
             color: #721c24;
         }

         /* Analytics Dashboard */
         .analytics-dashboard {
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
             gap: 2rem;
         }

         .analytics-card {
             background: white;
             border-radius: 15px;
             box-shadow: 0 4px 15px rgba(0,0,0,0.1);
             overflow: hidden;
         }

         .analytics-card.full-width {
             grid-column: 1 / -1;
         }

         .analytics-header {
             background: linear-gradient(135deg, #8D6E63 0%, #A97A50 100%);
             color: white;
             padding: 1.5rem;
             display: flex;
             justify-content: space-between;
             align-items: center;
         }

         .analytics-header h3 {
             font-size: 1.3rem;
             font-weight: 600;
             display: flex;
             align-items: center;
             gap: 0.5rem;
         }

         .analytics-period select {
             background: rgba(255,255,255,0.2);
             color: white;
             border: 1px solid rgba(255,255,255,0.3);
             border-radius: 5px;
             padding: 0.5rem;
             font-size: 0.9rem;
         }

         .analytics-period select option {
             background: #8D6E63;
             color: white;
         }

         .analytics-content {
             padding: 1.5rem;
         }

         .chart-container {
             margin-bottom: 1.5rem;
             text-align: center;
         }

         .analytics-metrics {
             display: grid;
             grid-template-columns: repeat(3, 1fr);
             gap: 1rem;
         }

         .metric {
             text-align: center;
             padding: 1rem;
             background: #f8f9fa;
             border-radius: 8px;
         }

         .metric-value {
             display: block;
             font-size: 1.5rem;
             font-weight: bold;
             color: #8D6E63;
             margin-bottom: 0.25rem;
         }

         .metric-label {
             font-size: 0.8rem;
             color: #666;
         }

         /* Geographic Distribution */
         .geographic-grid {
             display: grid;
             grid-template-columns: 1fr 1fr;
             gap: 2rem;
             align-items: start;
         }

         .location-stats {
             display: flex;
             flex-direction: column;
             gap: 1rem;
         }

         .location-item {
             display: flex;
             align-items: center;
             gap: 1rem;
             padding: 1rem;
             background: #f8f9fa;
             border-radius: 8px;
         }

         .location-info {
             flex: 1;
         }

         .location-info h4 {
             font-size: 1rem;
             font-weight: 600;
             margin-bottom: 0.25rem;
             color: #333;
         }

         .location-info p {
             font-size: 0.8rem;
             color: #666;
             margin: 0;
         }

         .location-metrics {
             text-align: center;
             min-width: 80px;
         }

         .location-count {
             display: block;
             font-size: 1.2rem;
             font-weight: bold;
             color: #8D6E63;
         }

         .location-label {
             font-size: 0.7rem;
             color: #666;
         }

         .location-bar {
             width: 100px;
             height: 8px;
             background: #e9ecef;
             border-radius: 4px;
             overflow: hidden;
         }

         .location-fill {
             height: 100%;
             background: linear-gradient(90deg, #8D6E63, #A97A50);
             transition: width 0.3s ease;
         }

         /* Full Width Analytics Overview */
         .full-width-analytics {
             grid-column: 1 / -1;
             margin-top: 2rem;
         }

         .analytics-overview-grid {
             display: grid;
             grid-template-columns: repeat(3, 1fr);
             gap: 2rem;
         }

         .analytics-overview-item {
             display: flex;
             flex-direction: column;
             align-items: center;
             text-align: center;
             padding: 1.5rem;
             background: #f8f9fa;
             border-radius: 12px;
             transition: transform 0.3s ease, box-shadow 0.3s ease;
         }

         .analytics-overview-item:hover {
             transform: translateY(-5px);
             box-shadow: 0 8px 25px rgba(0,0,0,0.15);
         }

         .analytics-overview-chart {
             width: 100%;
             height: 200px;
             margin-bottom: 1rem;
         }

         .analytics-overview-info h4 {
             font-size: 1.2rem;
             font-weight: 600;
             margin-bottom: 0.5rem;
             color: #333;
         }

         .analytics-overview-info p {
             font-size: 0.9rem;
             color: #666;
             margin-bottom: 0.75rem;
         }

         .analytics-overview-info .analytics-trend {
             font-size: 1rem;
             font-weight: 600;
             padding: 0.5rem 1rem;
             border-radius: 20px;
         }

         /* Flagged Accounts Styling */
         .user-avatar-small.flagged {
             background: linear-gradient(135deg, #dc3545, #c82333);
             color: white;
             border: 2px solid #dc3545;
         }

         .flag-reason {
             font-weight: 600;
             color: #dc3545;
             font-size: 0.9rem;
         }

         .status-badge-table.status-danger {
             background: #f8d7da;
             color: #721c24;
             border: 1px solid #f5c6cb;
         }

         .status-badge-table.status-warning {
             background: #fff3cd;
             color: #856404;
             border: 1px solid #ffeaa7;
         }

         /* Document Verification Modal Styling */
         .document-modal {
             max-width: 90vw;
             max-height: 90vh;
             width: 1200px;
             position: fixed;
             top: 50%;
             left: 50%;
             transform: translate(-50%, -50%);
             margin: 0;
             z-index: 1000;
         }

         .document-modal .modal-body {
             overflow-y: auto;
             max-height: 70vh;
         }

         .document-modal .modal-content {
             margin: 0;
             width: 100%;
             max-width: none;
         }

         .verification-container {
             display: flex;
             flex-direction: column;
             gap: 2rem;
         }

         .user-info-section, .document-section, .verification-checklist, .verification-notes {
             background: #f8f9fa;
             padding: 1.5rem;
             border-radius: 8px;
             border: 1px solid #e9ecef;
         }

         .user-info-section h3, .document-section h3, .verification-checklist h3, .verification-notes h3 {
             color: #8D6E63;
             margin-bottom: 1rem;
             display: flex;
             align-items: center;
             gap: 0.5rem;
         }

         .info-grid {
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
             gap: 1rem;
         }

         .info-item {
             display: flex;
             flex-direction: column;
             gap: 0.25rem;
         }

         .info-item label {
             font-weight: 600;
             color: #666;
             font-size: 0.9rem;
         }

         .info-item span {
             color: #333;
             font-size: 1rem;
         }

         .document-grid {
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
             gap: 2rem;
         }

         .document-item {
             text-align: center;
         }

         .document-item h4 {
             color: #8D6E63;
             margin-bottom: 1rem;
         }

         .document-preview {
             margin-bottom: 1rem;
             border: 2px solid #e9ecef;
             border-radius: 8px;
             overflow: hidden;
             background: white;
         }

         .document-preview img {
             width: 100%;
             height: 200px;
             object-fit: cover;
             cursor: pointer;
             transition: transform 0.3s ease;
         }

         .document-preview img:hover {
             transform: scale(1.05);
         }

         .document-actions {
             display: flex;
             gap: 0.5rem;
             justify-content: center;
         }

         .checklist-items {
             display: flex;
             flex-direction: column;
             gap: 1rem;
         }

         .checklist-item {
             display: flex;
             align-items: center;
             gap: 0.75rem;
             cursor: pointer;
             padding: 0.5rem;
             border-radius: 5px;
             transition: background-color 0.3s ease;
         }

         .checklist-item:hover {
             background: #e9ecef;
         }

         .checklist-item input[type="checkbox"] {
             width: 18px;
             height: 18px;
             accent-color: #8D6E63;
         }

         .verification-notes textarea {
             width: 100%;
             padding: 1rem;
             border: 1px solid #e9ecef;
             border-radius: 5px;
             font-family: inherit;
             font-size: 0.9rem;
             resize: vertical;
         }

         .verification-notes textarea:focus {
             outline: none;
             border-color: #8D6E63;
             box-shadow: 0 0 0 2px rgba(141, 110, 99, 0.2);
         }

         .image-modal {
             max-width: 95vw;
             max-height: 95vh;
             width: auto;
             height: auto;
         }

         .image-modal img {
             max-width: 100%;
             max-height: 90vh;
             object-fit: contain;
         }

         /* Email Verification Styling */
         .email-verification-section {
             background: #f8f9fa;
             padding: 1.5rem;
             border-radius: 8px;
             border: 1px solid #e9ecef;
         }

         .email-verification-section h3 {
             color: #8D6E63;
             margin-bottom: 1rem;
             display: flex;
             align-items: center;
             gap: 0.5rem;
         }

         .verification-status {
             margin-bottom: 1rem;
         }

         .status-item {
             display: flex;
             align-items: center;
             gap: 0.75rem;
             padding: 1rem;
             background: white;
             border-radius: 8px;
             border: 1px solid #e9ecef;
         }

         .status-item i {
             font-size: 1.2rem;
         }

         .status-pending {
             color: #ffc107;
         }

         .status-verified {
             color: #28a745;
         }

         .status-failed {
             color: #dc3545;
         }

         .verification-actions {
             display: flex;
             gap: 1rem;
             flex-wrap: wrap;
         }

         .action-btn:disabled {
             opacity: 0.6;
             cursor: not-allowed;
             background: #6c757d;
         }

         .action-btn:disabled:hover {
             background: #6c757d;
             transform: none;
         }

         /* Pending Approvals Button Styling */
         .approval-actions {
             display: flex;
             gap: 0.5rem;
             flex-wrap: wrap;
             align-items: center;
         }

         .approval-actions .action-btn {
             padding: 0.4rem 0.8rem;
             font-size: 0.8rem;
             min-width: auto;
             white-space: nowrap;
         }

         .approval-actions .action-btn i {
             font-size: 0.75rem;
             margin-right: 0.25rem;
         }

         /* Final Action Buttons Styling */
         .verification-actions-final {
             background: #f8f9fa;
             padding: 1.5rem;
             border-radius: 8px;
             border: 1px solid #e9ecef;
         }

         .verification-actions-final h3 {
             color: #8D6E63;
             margin-bottom: 1rem;
             display: flex;
             align-items: center;
             gap: 0.5rem;
         }

         .verification-actions-final .action-buttons-container {
             display: flex;
             gap: 1rem;
             justify-content: center;
             flex-wrap: wrap;
         }

         .verification-actions-final .action-btn {
             padding: 0.8rem 1.5rem;
             font-size: 1rem;
             min-width: 150px;
         }
    </style>
</head>
<body>
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h1><i class="fas fa-shield-alt"></i> BoardEase Admin</h1>
        </div>
        <nav class="sidebar-nav">
            <a href="#" class="nav-item active" onclick="showSection('dashboard')">
                <i class="fas fa-tachometer-alt"></i>
                Dashboard
            </a>
            <a href="#" class="nav-item" onclick="showSection('user-management')">
                <i class="fas fa-users"></i>
                User Management
            </a>
            <a href="#" class="nav-item" onclick="showSection('notifications')">
                <i class="fas fa-bell"></i>
                Notifications
            </a>
             <a href="#" class="nav-item" onclick="showSection('boarding-houses')">
                 <i class="fas fa-home"></i>
                 Boarding Houses
             </a>
             <a href="#" class="nav-item" onclick="showSection('analytics')">
                 <i class="fas fa-chart-line"></i>
                 Analytics
             </a>
             <a href="#" class="nav-item" onclick="showSection('reports')">
                 <i class="fas fa-chart-bar"></i>
                 Reports
             </a>
            <a href="#" class="nav-item" onclick="showSection('settings')">
                <i class="fas fa-cog"></i>
                Settings
            </a>
            <a href="#" class="nav-item" onclick="showSection('logout')">
                <i class="fas fa-sign-out-alt"></i>
                Logout
            </a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Dashboard Section -->
        <div id="dashboard-section" class="content-section active">
            <div class="content-header">
                <h1>Admin Dashboard</h1>
                <p>Welcome back! Here's what's happening with your BoardEase platform.</p>
            </div>
        <!-- Statistics Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #8D6E63, #A97A50);">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-content">
                    <h3>1,247</h3>
                    <p>Total Users</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #28a745, #20c997);">
                    <i class="fas fa-home"></i>
                </div>
                <div class="stat-content">
                    <h3>89</h3>
                    <p>Boarding Houses</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #ffc107, #fd7e14);">
                    <i class="fas fa-user-clock"></i>
                </div>
                <div class="stat-content">
                    <h3>8</h3>
                    <p>Pending Approvals</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #dc3545, #e74c3c);">
                    <i class="fas fa-ban"></i>
                </div>
                <div class="stat-content">
                    <h3>5</h3>
                    <p>Flagged Accounts</p>
                </div>
            </div>
        </div>

        <!-- Analytics Overview - Full Width -->
        <div class="dashboard-card full-width-analytics">
            <div class="card-header">
                <h3><i class="fas fa-chart-line"></i> Analytics Overview</h3>
            </div>
            <div class="card-content">
                <div class="analytics-overview-grid">
                    <div class="analytics-overview-item">
                        <div class="analytics-overview-chart">
                            <canvas id="userGrowthChart" width="300" height="200"></canvas>
                        </div>
                        <div class="analytics-overview-info">
                            <h4>User Growth</h4>
                            <p>Monthly user registrations</p>
                            <span class="analytics-trend positive">+12.5%</span>
                        </div>
                    </div>
                    <div class="analytics-overview-item">
                        <div class="analytics-overview-chart">
                            <canvas id="revenueChart" width="300" height="200"></canvas>
                        </div>
                        <div class="analytics-overview-info">
                            <h4>Revenue</h4>
                            <p>Monthly revenue trends</p>
                            <span class="analytics-trend positive">+8.3%</span>
                        </div>
                    </div>
                    <div class="analytics-overview-item">
                        <div class="analytics-overview-chart">
                            <canvas id="propertyOccupancyChart" width="300" height="200"></canvas>
                        </div>
                        <div class="analytics-overview-info">
                            <h4>Property Occupancy</h4>
                            <p>Current occupancy rates</p>
                            <span class="analytics-trend positive">85.4%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Priority Section: Pending Approvals -->
        <div class="priority-section">
            <h2><i class="fas fa-exclamation-circle"></i> Pending User Approvals - Action Required</h2>
            <div class="pending-approvals">
                <div class="approval-card">
                    <div class="approval-header">
                        <div class="approval-user">
                            <div class="user-avatar">JD</div>
                            <div>
                                <strong>John Doe</strong><br>
                                <small>Owner Registration</small>
                            </div>
                        </div>
                        <div class="approval-actions">
                            <button class="action-btn" onclick="viewDocuments('john_doe')">
                                <i class="fas fa-id-card"></i> View ID
                            </button>
                            <button class="action-btn success" onclick="approveUser('john_doe')">
                                <i class="fas fa-check"></i> Approve
                            </button>
                            <button class="action-btn danger" onclick="rejectUser('john_doe')">
                                <i class="fas fa-times"></i> Reject
                            </button>
                        </div>
                    </div>
                    <div class="approval-details">
                        <strong>Email:</strong> john.doe@email.com<br>
                        <strong>Phone:</strong> +63 912 345 6789<br>
                        <strong>Business Name:</strong> Sunshine Boarding House
                    </div>
                    <div class="verification-badge verification-verified">
                        <i class="fas fa-check-circle"></i> Email Verified
                    </div>
                    <div class="email-status email-sent">
                        <i class="fas fa-envelope"></i> Verification email sent
                    </div>
                    <div class="registration-date">Registered: 2 hours ago</div>
                </div>

                <div class="approval-card">
                    <div class="approval-header">
                        <div class="approval-user">
                            <div class="user-avatar">MS</div>
                            <div>
                                <strong>Maria Santos</strong><br>
                                <small>Boarder Registration</small>
                            </div>
                        </div>
                        <div class="approval-actions">
                            <button class="action-btn" onclick="viewDocuments('maria_santos')">
                                <i class="fas fa-id-card"></i> View ID
                            </button>
                            <button class="action-btn success" onclick="approveUser('maria_santos')">
                                <i class="fas fa-check"></i> Approve
                            </button>
                            <button class="action-btn danger" onclick="rejectUser('maria_santos')">
                                <i class="fas fa-times"></i> Reject
                            </button>
                        </div>
                    </div>
                    <div class="approval-details">
                        <strong>Email:</strong> maria.santos@email.com<br>
                        <strong>Phone:</strong> +63 917 123 4567<br>
                        <strong>University:</strong> University of the Philippines
                    </div>
                    <div class="verification-badge verification-pending">
                        <i class="fas fa-clock"></i> Email Verification Pending
                    </div>
                    <div class="email-status email-sent">
                        <i class="fas fa-envelope"></i> Verification email sent
                    </div>
                    <div class="registration-date">Registered: 4 hours ago</div>
                </div>

                <div class="approval-card">
                    <div class="approval-header">
                        <div class="approval-user">
                            <div class="user-avatar">RB</div>
                            <div>
                                <strong>Robert Brown</strong><br>
                                <small>Owner Registration</small>
                            </div>
                        </div>
                        <div class="approval-actions">
                            <button class="action-btn" onclick="viewDocuments('robert_brown')">
                                <i class="fas fa-id-card"></i> View ID
                            </button>
                            <button class="action-btn success" onclick="approveUser('robert_brown')">
                                <i class="fas fa-check"></i> Approve
                            </button>
                            <button class="action-btn danger" onclick="rejectUser('robert_brown')">
                                <i class="fas fa-times"></i> Reject
                            </button>
                        </div>
                    </div>
                    <div class="approval-details">
                        <strong>Email:</strong> robert.brown@email.com<br>
                        <strong>Phone:</strong> +63 918 765 4321<br>
                        <strong>Business Name:</strong> Metro Boarding House
                    </div>
                    <div class="verification-badge verification-failed">
                        <i class="fas fa-exclamation-triangle"></i> Email Verification Failed
                    </div>
                    <div class="email-status email-failed">
                        <i class="fas fa-exclamation-circle"></i> Email delivery failed
                        <button class="action-btn" style="margin-left: 1rem; padding: 0.25rem 0.5rem; font-size: 0.8rem;" onclick="resendVerificationEmail('robert_brown', 'robert.brown@email.com')">
                            <i class="fas fa-redo"></i> Resend
                        </button>
                    </div>
                    <div class="registration-date">Registered: 1 day ago</div>
                </div>

                <div class="approval-card">
                    <div class="approval-header">
                        <div class="approval-user">
                            <div class="user-avatar">AG</div>
                            <div>
                                <strong>Anna Garcia</strong><br>
                                <small>Boarder Registration</small>
                            </div>
                        </div>
                        <div class="approval-actions">
                            <button class="action-btn" onclick="viewDocuments('anna_garcia')">
                                <i class="fas fa-id-card"></i> View ID
                            </button>
                            <button class="action-btn success" onclick="approveUser('anna_garcia')">
                                <i class="fas fa-check"></i> Approve
                            </button>
                            <button class="action-btn danger" onclick="rejectUser('anna_garcia')">
                                <i class="fas fa-times"></i> Reject
                            </button>
                        </div>
                    </div>
                    <div class="approval-details">
                        <strong>Email:</strong> anna.garcia@email.com<br>
                        <strong>Phone:</strong> +63 919 876 5432<br>
                        <strong>University:</strong> Ateneo de Manila University
                    </div>
                    <div class="verification-badge verification-verified">
                        <i class="fas fa-check-circle"></i> Email Verified
                    </div>
                    <div class="email-status email-sent">
                        <i class="fas fa-envelope"></i> Verification email sent
                    </div>
                    <div class="registration-date">Registered: 6 hours ago</div>
                </div>
            </div>
         </div>

         <!-- Dashboard Grid -->
         <div class="dashboard-grid">
             <!-- Quick Actions -->
             <div class="dashboard-card">
                 <div class="card-header">
                     <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                 </div>
                 <div class="card-content">
                     <div style="display: flex; flex-direction: column; gap: 1rem;">
                         <button class="action-btn" onclick="showSection('user-management')">
                             <i class="fas fa-users"></i> Manage Users
                         </button>
                         <button class="action-btn" onclick="showSection('boarding-houses')">
                             <i class="fas fa-home"></i> View Boarding Houses
                         </button>
                         <button class="action-btn" onclick="showSection('notifications')">
                             <i class="fas fa-bell"></i> Send Notifications
                         </button>
                         <button class="action-btn" onclick="showSection('reports')">
                             <i class="fas fa-chart-bar"></i> Generate Reports
                         </button>
                     </div>
                 </div>
             </div>

             <!-- Recent Activity -->
             <div class="dashboard-card">
                 <div class="card-header">
                     <h3><i class="fas fa-clock"></i> Recent Activity</h3>
                 </div>
                 <div class="card-content">
                     <div class="recent-activity">
                         <div class="activity-item">
                             <div class="activity-icon" style="background: #d4edda;">
                                 <i class="fas fa-check" style="color: #28a745;"></i>
                             </div>
                             <div class="activity-content">
                                 <h4>New boarding house registered</h4>
                                 <p>Sunset Boarding House by John Doe</p>
                             </div>
                             <div class="activity-time">2 min ago</div>
                         </div>
                         <div class="activity-item">
                             <div class="activity-icon" style="background: #fff3cd;">
                                 <i class="fas fa-exclamation" style="color: #ffc107;"></i>
                             </div>
                             <div class="activity-content">
                                 <h4>Payment dispute reported</h4>
                                 <p>Room 101 - Mike Johnson vs Jane Smith</p>
                             </div>
                             <div class="activity-time">15 min ago</div>
                         </div>
                         <div class="activity-item">
                             <div class="activity-icon" style="background: #f8d7da;">
                                 <i class="fas fa-flag" style="color: #dc3545;"></i>
                             </div>
                             <div class="activity-content">
                                 <h4>Account flagged for review</h4>
                                 <p>User: sarah.wilson@email.com</p>
                             </div>
                             <div class="activity-time">1 hour ago</div>
                         </div>
                     </div>
                 </div>
             </div>
         </div>
        </div>

        <!-- User Management Section -->
        <div id="user-management-section" class="content-section">
            <div class="content-header">
                <h1>User Management</h1>
                <p>Manage all users in the system - boarders and boarding house owners.</p>
            </div>
            
            <div class="data-table">
                <div class="table-header">
                    <h3><i class="fas fa-users"></i> User Management</h3>
                    <span style="color: rgba(255,255,255,0.8);">Total: 245 users</span>
                </div>
                
                <!-- Tab Navigation -->
                <div class="tabs">
                    <div class="tab active" onclick="switchUserTab('boarders')">
                        <i class="fas fa-user-graduate"></i> Boarders
                    </div>
                    <div class="tab" onclick="switchUserTab('owners')">
                        <i class="fas fa-user-tie"></i> Boarding House Owners
                    </div>
                    <div class="tab" onclick="switchUserTab('disputes')">
                        <i class="fas fa-gavel"></i> Dispute Resolution
                    </div>
                    <div class="tab" onclick="switchUserTab('flagged')">
                        <i class="fas fa-flag"></i> Flagged Accounts
                    </div>
                </div>
                
                <!-- Boarders Tab Content -->
                <div class="tab-content active" id="boarders-tab">
                    <div class="table-filters">
                        <button class="filter-btn active" onclick="filterBoarders('all')">All</button>
                        <button class="filter-btn" onclick="filterBoarders('active')">Active</button>
                        <button class="filter-btn" onclick="filterBoarders('inactive')">Inactive</button>
                        <button class="filter-btn" onclick="filterBoarders('pending')">Pending Approval</button>
                    </div>
                    <div class="table-container">
                        <table>
                             <thead>
                                 <tr>
                                     <th>User</th>
                                     <th>Email</th>
                                     <th>Status</th>
                                     <th>Registration Date</th>
                                     <th>Actions</th>
                                 </tr>
                             </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">MJ</div>
                                            <div>
                                                <strong>Mike Johnson</strong><br>
                                                <small>+63 917 123 4567</small>
                                            </div>
                                        </div>
                                     </td>
                                     <td>mike.johnson@email.com</td>
                                     <td><span class="status-badge-table status-active">Active</span></td>
                                     <td>2024-01-15</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewBoarderDetails('mike_johnson')">
                                                 <i class="fas fa-eye"></i> View
                                             </button>
                                             <button class="action-btn danger" onclick="suspendBoarder('mike_johnson')">
                                                 <i class="fas fa-ban"></i> Suspend
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">AG</div>
                                            <div>
                                                <strong>Anna Garcia</strong><br>
                                                <small>+63 919 876 5432</small>
                                            </div>
                                        </div>
                                     </td>
                                     <td>anna.garcia@email.com</td>
                                     <td><span class="status-badge-table status-active">Active</span></td>
                                     <td>2024-01-20</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewBoarderDetails('anna_garcia')">
                                                 <i class="fas fa-eye"></i> View
                                             </button>
                                             <button class="action-btn danger" onclick="suspendBoarder('anna_garcia')">
                                                 <i class="fas fa-ban"></i> Suspend
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">DL</div>
                                            <div>
                                                <strong>David Lee</strong><br>
                                                <small>+63 918 555 1234</small>
                                            </div>
                                        </div>
                                     </td>
                                     <td>david.lee@email.com</td>
                                     <td><span class="status-badge-table status-pending">Pending</span></td>
                                     <td>2024-01-25</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewDocuments('david_lee')">
                                                 <i class="fas fa-id-card"></i> View ID
                                             </button>
                                             <button class="action-btn success" onclick="approveBoarder('david_lee')">
                                                 <i class="fas fa-check"></i> Approve
                                             </button>
                                             <button class="action-btn danger" onclick="rejectBoarder('david_lee')">
                                                 <i class="fas fa-times"></i> Reject
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">MS</div>
                                            <div>
                                                <strong>Maria Santos</strong><br>
                                                <small>+63 917 123 4567</small>
                                            </div>
                                        </div>
                                     </td>
                                     <td>maria.santos@email.com</td>
                                     <td><span class="status-badge-table status-pending">Pending Approval</span></td>
                                     <td>2024-01-28</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewDocuments('maria_santos')">
                                                 <i class="fas fa-id-card"></i> View ID
                                             </button>
                                             <button class="action-btn success" onclick="approveBoarder('maria_santos')">
                                                 <i class="fas fa-check"></i> Approve
                                             </button>
                                             <button class="action-btn danger" onclick="rejectBoarder('maria_santos')">
                                                 <i class="fas fa-times"></i> Reject
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">AG</div>
                                            <div>
                                                <strong>Anna Garcia</strong><br>
                                                <small>+63 919 876 5432</small>
                                            </div>
                                        </div>
                                     </td>
                                     <td>anna.garcia@email.com</td>
                                     <td><span class="status-badge-table status-pending">Pending Approval</span></td>
                                     <td>2024-01-29</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewDocuments('anna_garcia')">
                                                 <i class="fas fa-id-card"></i> View ID
                                             </button>
                                             <button class="action-btn success" onclick="approveBoarder('anna_garcia')">
                                                 <i class="fas fa-check"></i> Approve
                                             </button>
                                             <button class="action-btn danger" onclick="rejectBoarder('anna_garcia')">
                                                 <i class="fas fa-times"></i> Reject
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Owners Tab Content -->
                <div class="tab-content" id="owners-tab">
                    <div class="table-filters">
                        <button class="filter-btn active" onclick="filterOwners('all')">All</button>
                        <button class="filter-btn" onclick="filterOwners('active')">Active</button>
                        <button class="filter-btn" onclick="filterOwners('inactive')">Inactive</button>
                        <button class="filter-btn" onclick="filterOwners('pending')">Pending Approval</button>
                    </div>
                    <div class="table-container">
                        <table>
                             <thead>
                                 <tr>
                                     <th>Owner</th>
                                     <th>Email</th>
                                     <th>Properties</th>
                                     <th>Status</th>
                                     <th>Registration Date</th>
                                     <th>Actions</th>
                                 </tr>
                             </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">JD</div>
                                            <div>
                                                <strong>John Doe</strong><br>
                                                <small>+63 912 345 6789</small>
                                            </div>
                                        </div>
                                     </td>
                                     <td>john.doe@email.com</td>
                                     <td>3 properties</td>
                                     <td><span class="status-badge-table status-active">Active</span></td>
                                     <td>2024-01-10</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewOwnerDetails('john_doe')">
                                                 <i class="fas fa-eye"></i> View
                                             </button>
                                             <button class="action-btn danger" onclick="suspendOwner('john_doe')">
                                                 <i class="fas fa-ban"></i> Suspend
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">JS</div>
                                            <div>
                                                <strong>Jane Smith</strong><br>
                                                <small>+63 917 987 6543</small>
                                            </div>
                                        </div>
                                     </td>
                                     <td>jane.smith@email.com</td>
                                     <td>2 properties</td>
                                     <td><span class="status-badge-table status-active">Active</span></td>
                                     <td>2024-01-12</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewOwnerDetails('jane_smith')">
                                                 <i class="fas fa-eye"></i> View
                                             </button>
                                             <button class="action-btn danger" onclick="suspendOwner('jane_smith')">
                                                 <i class="fas fa-ban"></i> Suspend
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">RB</div>
                                            <div>
                                                <strong>Robert Brown</strong><br>
                                                <small>+63 918 765 4321</small>
                                            </div>
                                        </div>
                                     </td>
                                     <td>robert.brown@email.com</td>
                                     <td>1 property</td>
                                     <td><span class="status-badge-table status-pending">Pending</span></td>
                                     <td>2024-01-28</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewDocuments('robert_brown')">
                                                 <i class="fas fa-id-card"></i> View ID
                                             </button>
                                             <button class="action-btn success" onclick="approveOwner('robert_brown')">
                                                 <i class="fas fa-check"></i> Approve
                                             </button>
                                             <button class="action-btn danger" onclick="rejectOwner('robert_brown')">
                                                 <i class="fas fa-times"></i> Reject
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">SW</div>
                                            <div>
                                                <strong>Sarah Wilson</strong><br>
                                                <small>+63 916 234 5678</small>
                                            </div>
                                        </div>
                                     </td>
                                     <td>sarah.wilson@email.com</td>
                                     <td>0 properties</td>
                                     <td><span class="status-badge-table status-pending">Pending Approval</span></td>
                                     <td>2024-01-30</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewDocuments('sarah_wilson')">
                                                 <i class="fas fa-id-card"></i> View ID
                                             </button>
                                             <button class="action-btn success" onclick="approveOwner('sarah_wilson')">
                                                 <i class="fas fa-check"></i> Approve
                                             </button>
                                             <button class="action-btn danger" onclick="rejectOwner('sarah_wilson')">
                                                 <i class="fas fa-times"></i> Reject
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Dispute Resolution Tab Content -->
                <div class="tab-content" id="disputes-tab">
                    <div class="table-filters">
                        <button class="filter-btn active" onclick="filterDisputes('all')">All</button>
                        <button class="filter-btn" onclick="filterDisputes('open')">Open</button>
                        <button class="filter-btn" onclick="filterDisputes('in_progress')">In Progress</button>
                        <button class="filter-btn" onclick="filterDisputes('resolved')">Resolved</button>
                    </div>
                    <div class="table-container">
                        <table>
                             <thead>
                                 <tr>
                                     <th>Dispute ID</th>
                                     <th>Parties Involved</th>
                                     <th>Issue Type</th>
                                     <th>Status</th>
                                     <th>Reported Date</th>
                                     <th>Actions</th>
                                 </tr>
                             </thead>
                            <tbody>
                                <tr>
                                    <td>#DISP-001</td>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">MJ</div>
                                            <div>
                                                <strong>Mike Johnson</strong> vs<br>
                                                <strong>John Doe</strong>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Payment Dispute</td>
                                    <td><span class="status-badge-table status-pending">Open</span></td>
                                    <td>2024-01-25</td>
                                    <td>
                                        <div class="action-buttons-container">
                                            <button class="action-btn" onclick="viewDisputeDetails('disp_001')">
                                                <i class="fas fa-eye"></i> View
                                            </button>
                                            <button class="action-btn success" onclick="assignDispute('disp_001')">
                                                <i class="fas fa-user-check"></i> Assign
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#DISP-002</td>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">AG</div>
                                            <div>
                                                <strong>Anna Garcia</strong> vs<br>
                                                <strong>Jane Smith</strong>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Property Damage</td>
                                    <td><span class="status-badge-table status-warning">In Progress</span></td>
                                    <td>2024-01-22</td>
                                    <td>
                                        <div class="action-buttons-container">
                                            <button class="action-btn" onclick="viewDisputeDetails('disp_002')">
                                                <i class="fas fa-eye"></i> View
                                            </button>
                                            <button class="action-btn success" onclick="resolveDispute('disp_002')">
                                                <i class="fas fa-check"></i> Resolve
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#DISP-003</td>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small">DL</div>
                                            <div>
                                                <strong>David Lee</strong> vs<br>
                                                <strong>Robert Brown</strong>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Noise Complaint</td>
                                    <td><span class="status-badge-table status-success">Resolved</span></td>
                                    <td>2024-01-18</td>
                                    <td>
                                        <div class="action-buttons-container">
                                            <button class="action-btn" onclick="viewDisputeDetails('disp_003')">
                                                <i class="fas fa-eye"></i> View
                                            </button>
                                            <button class="action-btn" onclick="viewResolution('disp_003')">
                                                <i class="fas fa-file-alt"></i> Resolution
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Flagged Accounts Tab Content -->
                <div class="tab-content" id="flagged-tab">
                    <div class="table-filters">
                        <button class="filter-btn active" onclick="filterFlagged('all')">All Flagged</button>
                        <button class="filter-btn" onclick="filterFlagged('boarders')">Flagged Boarders</button>
                        <button class="filter-btn" onclick="filterFlagged('owners')">Flagged Owners</button>
                        <button class="filter-btn" onclick="filterFlagged('reviewed')">Under Review</button>
                    </div>
                    <div class="table-container">
                        <table>
                             <thead>
                                 <tr>
                                     <th>User</th>
                                     <th>Account Type</th>
                                     <th>Flag Reason</th>
                                     <th>Flagged Date</th>
                                     <th>Status</th>
                                     <th>Actions</th>
                                 </tr>
                             </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small flagged">SW</div>
                                            <div>
                                                <strong>Sarah Wilson</strong><br>
                                                <small>sarah.wilson@email.com</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Boarder</td>
                                    <td>
                                        <span class="flag-reason">Inappropriate Behavior</span>
                                        <br><small>Multiple noise complaints from neighbors</small>
                                    </td>
                                    <td>2024-01-20</td>
                                    <td><span class="status-badge-table status-warning">Under Review</span></td>
                                    <td>
                                        <div class="action-buttons-container">
                                            <button class="action-btn" onclick="viewFlaggedDetails('sarah_wilson')">
                                                <i class="fas fa-eye"></i> Review
                                            </button>
                                            <button class="action-btn success" onclick="unflagUser('sarah_wilson')">
                                                <i class="fas fa-check"></i> Unflag
                                            </button>
                                            <button class="action-btn danger" onclick="suspendUser('sarah_wilson')">
                                                <i class="fas fa-ban"></i> Suspend
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small flagged">MJ</div>
                                            <div>
                                                <strong>Mike Johnson</strong><br>
                                                <small>mike.johnson@email.com</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Owner</td>
                                    <td>
                                        <span class="flag-reason">Payment Issues</span>
                                        <br><small>Multiple payment disputes with boarders</small>
                                    </td>
                                    <td>2024-01-18</td>
                                    <td><span class="status-badge-table status-pending">Pending Review</span></td>
                                    <td>
                                        <div class="action-buttons-container">
                                            <button class="action-btn" onclick="viewFlaggedDetails('mike_johnson')">
                                                <i class="fas fa-eye"></i> Review
                                            </button>
                                            <button class="action-btn success" onclick="unflagUser('mike_johnson')">
                                                <i class="fas fa-check"></i> Unflag
                                            </button>
                                            <button class="action-btn danger" onclick="suspendUser('mike_johnson')">
                                                <i class="fas fa-ban"></i> Suspend
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small flagged">DL</div>
                                            <div>
                                                <strong>David Lee</strong><br>
                                                <small>david.lee@email.com</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Boarder</td>
                                    <td>
                                        <span class="flag-reason">Suspicious Activity</span>
                                        <br><small>Multiple failed login attempts</small>
                                    </td>
                                    <td>2024-01-15</td>
                                    <td><span class="status-badge-table status-danger">Suspended</span></td>
                                    <td>
                                        <div class="action-buttons-container">
                                            <button class="action-btn" onclick="viewFlaggedDetails('david_lee')">
                                                <i class="fas fa-eye"></i> Review
                                            </button>
                                            <button class="action-btn success" onclick="unflagUser('david_lee')">
                                                <i class="fas fa-check"></i> Unflag
                                            </button>
                                            <button class="action-btn" onclick="unsuspendUser('david_lee')">
                                                <i class="fas fa-unlock"></i> Unsuspend
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small flagged">RB</div>
                                            <div>
                                                <strong>Robert Brown</strong><br>
                                                <small>robert.brown@email.com</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Owner</td>
                                    <td>
                                        <span class="flag-reason">Property Violations</span>
                                        <br><small>Unsafe living conditions reported</small>
                                    </td>
                                    <td>2024-01-12</td>
                                    <td><span class="status-badge-table status-warning">Under Review</span></td>
                                    <td>
                                        <div class="action-buttons-container">
                                            <button class="action-btn" onclick="viewFlaggedDetails('robert_brown')">
                                                <i class="fas fa-eye"></i> Review
                                            </button>
                                            <button class="action-btn success" onclick="unflagUser('robert_brown')">
                                                <i class="fas fa-check"></i> Unflag
                                            </button>
                                            <button class="action-btn danger" onclick="suspendUser('robert_brown')">
                                                <i class="fas fa-ban"></i> Suspend
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small flagged">AG</div>
                                            <div>
                                                <strong>Anna Garcia</strong><br>
                                                <small>anna.garcia@email.com</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Boarder</td>
                                    <td>
                                        <span class="flag-reason">Fake Information</span>
                                        <br><small>Submitted false documents during registration</small>
                                    </td>
                                    <td>2024-01-10</td>
                                    <td><span class="status-badge-table status-danger">Banned</span></td>
                                    <td>
                                        <div class="action-buttons-container">
                                            <button class="action-btn" onclick="viewFlaggedDetails('anna_garcia')">
                                                <i class="fas fa-eye"></i> Review
                                            </button>
                                            <button class="action-btn success" onclick="unflagUser('anna_garcia')">
                                                <i class="fas fa-check"></i> Unflag
                                            </button>
                                            <button class="action-btn" onclick="unbanUser('anna_garcia')">
                                                <i class="fas fa-unlock"></i> Unban
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications Section -->
        <div id="notifications-section" class="content-section">
            <div class="content-header">
                <h1>Notifications</h1>
                <p>Send notifications to users and view system notifications.</p>
            </div>
            
            <div class="data-table">
                <div class="table-header">
                    <h3><i class="fas fa-bell"></i> Notifications</h3>
                    <span style="color: rgba(255,255,255,0.8);">Manage notifications and system events</span>
                </div>
                
                <!-- Tab Navigation -->
                <div class="tabs">
                    <div class="tab active" onclick="switchNotificationTab('system')">
                        <i class="fas fa-bell"></i> System Notifications
                    </div>
                    <div class="tab" onclick="switchNotificationTab('compose')">
                        <i class="fas fa-paper-plane"></i> Compose Notification
                    </div>
                </div>
                
                <!-- Compose Notification Tab Content -->
                <div class="tab-content" id="compose-tab">
                    <div class="card-content">
                        <form id="notificationForm">
                            <div class="form-group">
                                <label>Recipients:</label>
                                <select name="recipients" required>
                                    <option value="">Select recipients</option>
                                    <option value="all">All Users</option>
                                    <option value="boarders">All Boarders</option>
                                    <option value="owners">All Owners</option>
                                    <option value="specific">Specific Users</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Notification Type:</label>
                                <select name="notification_type" required>
                                    <option value="announcement">Announcement</option>
                                    <option value="maintenance">Maintenance</option>
                                    <option value="general">General</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Subject:</label>
                                <input type="text" name="title" placeholder="Enter notification subject" required>
                            </div>
                            <div class="form-group">
                                <label>Message:</label>
                                <textarea name="message" rows="4" placeholder="Enter your notification message" required></textarea>
                            </div>
                             <div class="btn-group">
                                 <div class="action-buttons-container">
                                     <button type="button" class="action-btn" onclick="clearNotificationForm()">Clear</button>
                                     <button type="submit" class="action-btn success">
                                         <i class="fas fa-paper-plane"></i> Send Notification
                                     </button>
                                 </div>
                             </div>
                        </form>
                    </div>
                </div>
                
                <!-- System Notifications Tab Content -->
                <div class="tab-content active" id="system-tab">
                    <div class="card-content">
                        <div class="notification-item">
                            <div class="notification-icon" style="background: #28a745;">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="notification-content">
                                <h4>New User Registration</h4>
                                <p>David Lee registered as a boarder from De La Salle University</p>
                                <div class="notification-time">2 hours ago</div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon" style="background: #007bff;">
                                <i class="fas fa-home"></i>
                            </div>
                            <div class="notification-content">
                                <h4>New Boarding House Added</h4>
                                <p>City View Boarding House was registered by Robert Brown</p>
                                <div class="notification-time">4 hours ago</div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon" style="background: #ffc107;">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="notification-content">
                                <h4>Payment Issue Reported</h4>
                                <p>Payment dispute reported for Room 101 at Sunshine Boarding House</p>
                                <div class="notification-time">6 hours ago</div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon" style="background: #dc3545;">
                                <i class="fas fa-flag"></i>
                            </div>
                            <div class="notification-content">
                                <h4>Account Flagged</h4>
                                <p>User sarah.wilson@email.com has been flagged for review</p>
                                <div class="notification-time">1 day ago</div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon" style="background: #6f42c1;">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <div class="notification-content">
                                <h4>Payment Completed</h4>
                                <p>Payment of 3,500 received from Mike Johnson for Room 101</p>
                                <div class="notification-time">1 day ago</div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon" style="background: #20c997;">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="notification-content">
                                <h4>Maintenance Request Completed</h4>
                                <p>Plumbing issue in Room 205 has been resolved</p>
                                <div class="notification-time">2 days ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Boarding Houses Section -->
        <div id="boarding-houses-section" class="content-section">
            <div class="content-header">
                <h1>Boarding Houses Management</h1>
                <p>View and manage all boarding houses in the system with their respective owners.</p>
            </div>
            
            <div class="data-table">
                <div class="table-header">
                    <h3><i class="fas fa-home"></i> Boarding Houses</h3>
                    <span style="color: rgba(255,255,255,0.8);">Total: 89 boarding houses</span>
                </div>
                
                <!-- Tab Navigation -->
                <div class="tabs">
                    <div class="tab active" onclick="switchBoardingHouseTab('all')">
                        <i class="fas fa-list"></i> All Boarding Houses
                    </div>
                    <div class="tab" onclick="switchBoardingHouseTab('by-owner')">
                        <i class="fas fa-user-tie"></i> By Owner
                    </div>
                </div>
                
                <!-- All Boarding Houses Tab Content -->
                <div class="tab-content active" id="all-tab">
                     <div class="table-filters">
                         <button class="filter-btn active" onclick="filterBoardingHouses('all')">All</button>
                         <button class="filter-btn" onclick="filterBoardingHouses('active')">Active</button>
                         <button class="filter-btn" onclick="filterBoardingHouses('inactive')">Inactive</button>
                     </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Boarding House</th>
                                    <th>Owner</th>
                                    <th>Location</th>
                                    <th>Rooms</th>
                                    <th>Status</th>
                                    <th>Registration Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small" style="background: #8D6E63; color: white;">SH</div>
                                            <div>
                                                <strong>Sunshine Boarding House</strong><br>
                                                <small>Quezon City, Metro Manila</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <strong>John Doe</strong><br>
                                            <small>john.doe@email.com</small>
                                        </div>
                                    </td>
                                    <td>Quezon City, Metro Manila</td>
                                    <td>15 rooms</td>
                                    <td><span class="status-badge-table status-active">Active</span></td>
                                    <td>2024-01-10</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewBoardingHouseDetails('sunshine_house')">
                                                 <i class="fas fa-eye"></i> View
                                             </button>
                                             <button class="action-btn danger" onclick="deactivateBoardingHouse('sunshine_house')">
                                                 <i class="fas fa-ban"></i> Deactivate
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small" style="background: #8D6E63; color: white;">MH</div>
                                            <div>
                                                <strong>Metro Boarding House</strong><br>
                                                <small>Makati City, Metro Manila</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <strong>Jane Smith</strong><br>
                                            <small>jane.smith@email.com</small>
                                        </div>
                                    </td>
                                    <td>Makati City, Metro Manila</td>
                                    <td>12 rooms</td>
                                    <td><span class="status-badge-table status-active">Active</span></td>
                                    <td>2024-01-12</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewBoardingHouseDetails('metro_house')">
                                                 <i class="fas fa-eye"></i> View
                                             </button>
                                             <button class="action-btn danger" onclick="deactivateBoardingHouse('metro_house')">
                                                 <i class="fas fa-ban"></i> Deactivate
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small" style="background: #8D6E63; color: white;">CV</div>
                                            <div>
                                                <strong>City View Boarding House</strong><br>
                                                <small>Manila City, Metro Manila</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <strong>Robert Brown</strong><br>
                                            <small>robert.brown@email.com</small>
                                        </div>
                                    </td>
                                     <td>Manila City, Metro Manila</td>
                                     <td>8 rooms</td>
                                     <td><span class="status-badge-table status-active">Active</span></td>
                                     <td>2024-01-28</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewBoardingHouseDetails('city_view')">
                                                 <i class="fas fa-eye"></i> View
                                             </button>
                                             <button class="action-btn danger" onclick="deactivateBoardingHouse('city_view')">
                                                 <i class="fas fa-ban"></i> Deactivate
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-info-cell">
                                            <div class="user-avatar-small" style="background: #8D6E63; color: white;">GH</div>
                                            <div>
                                                <strong>Green Heights Boarding House</strong><br>
                                                <small>Pasig City, Metro Manila</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <strong>Maria Santos</strong><br>
                                            <small>maria.santos@email.com</small>
                                        </div>
                                    </td>
                                    <td>Pasig City, Metro Manila</td>
                                    <td>20 rooms</td>
                                    <td><span class="status-badge-table status-active">Active</span></td>
                                    <td>2024-01-15</td>
                                     <td>
                                         <div class="action-buttons-container">
                                             <button class="action-btn" onclick="viewBoardingHouseDetails('green_heights')">
                                                 <i class="fas fa-eye"></i> View
                                             </button>
                                             <button class="action-btn danger" onclick="deactivateBoardingHouse('green_heights')">
                                                 <i class="fas fa-ban"></i> Deactivate
                                             </button>
                                         </div>
                                     </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- By Owner Tab Content -->
                <div class="tab-content" id="by-owner-tab">
                    <div class="card-content">
                        <div class="owner-boarding-houses">
                            <div class="owner-section">
                                <div class="owner-header">
                                    <div class="user-info-cell">
                                        <div class="user-avatar-small">JD</div>
                                        <div>
                                            <strong>John Doe</strong><br>
                                            <small>john.doe@email.com</small>
                                        </div>
                                    </div>
                                    <span class="property-count">3 Properties</span>
                                </div>
                                <div class="boarding-houses-list">
                                    <div class="boarding-house-item">
                                        <div class="house-info">
                                            <strong>Sunshine Boarding House</strong>
                                            <p>Quezon City, Metro Manila  15 rooms</p>
                                        </div>
                                         <div class="house-status">
                                             <span class="status-badge-table status-active">Active</span>
                                             <div class="action-buttons-container">
                                                 <button class="action-btn" onclick="viewBoardingHouseDetails('sunshine_house')">
                                                     <i class="fas fa-eye"></i> View
                                                 </button>
                                             </div>
                                         </div>
                                    </div>
                                    <div class="boarding-house-item">
                                        <div class="house-info">
                                            <strong>Sunset View Boarding House</strong>
                                            <p>Quezon City, Metro Manila  10 rooms</p>
                                        </div>
                                         <div class="house-status">
                                             <span class="status-badge-table status-active">Active</span>
                                             <div class="action-buttons-container">
                                                 <button class="action-btn" onclick="viewBoardingHouseDetails('sunset_view')">
                                                     <i class="fas fa-eye"></i> View
                                                 </button>
                                             </div>
                                         </div>
                                    </div>
                                    <div class="boarding-house-item">
                                        <div class="house-info">
                                            <strong>Morning Star Boarding House</strong>
                                            <p>Quezon City, Metro Manila  8 rooms</p>
                                        </div>
                                         <div class="house-status">
                                             <span class="status-badge-table status-active">Active</span>
                                             <div class="action-buttons-container">
                                                 <button class="action-btn" onclick="viewBoardingHouseDetails('morning_star')">
                                                     <i class="fas fa-eye"></i> View
                                                 </button>
                                             </div>
                                         </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="owner-section">
                                <div class="owner-header">
                                    <div class="user-info-cell">
                                        <div class="user-avatar-small">JS</div>
                                        <div>
                                            <strong>Jane Smith</strong><br>
                                            <small>jane.smith@email.com</small>
                                        </div>
                                    </div>
                                    <span class="property-count">2 Properties</span>
                                </div>
                                <div class="boarding-houses-list">
                                    <div class="boarding-house-item">
                                        <div class="house-info">
                                            <strong>Metro Boarding House</strong>
                                            <p>Makati City, Metro Manila  12 rooms</p>
                                        </div>
                                         <div class="house-status">
                                             <span class="status-badge-table status-active">Active</span>
                                             <div class="action-buttons-container">
                                                 <button class="action-btn" onclick="viewBoardingHouseDetails('metro_house')">
                                                     <i class="fas fa-eye"></i> View
                                                 </button>
                                             </div>
                                         </div>
                                    </div>
                                    <div class="boarding-house-item">
                                        <div class="house-info">
                                            <strong>Downtown Boarding House</strong>
                                            <p>Makati City, Metro Manila  6 rooms</p>
                                        </div>
                                         <div class="house-status">
                                             <span class="status-badge-table status-active">Active</span>
                                             <div class="action-buttons-container">
                                                 <button class="action-btn" onclick="viewBoardingHouseDetails('downtown_house')">
                                                     <i class="fas fa-eye"></i> View
                                                 </button>
                                             </div>
                                         </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="owner-section">
                                <div class="owner-header">
                                    <div class="user-info-cell">
                                        <div class="user-avatar-small">RB</div>
                                        <div>
                                            <strong>Robert Brown</strong><br>
                                            <small>robert.brown@email.com</small>
                                        </div>
                                    </div>
                                    <span class="property-count">1 Property</span>
                                </div>
                                <div class="boarding-houses-list">
                                    <div class="boarding-house-item">
                                        <div class="house-info">
                                            <strong>City View Boarding House</strong>
                                            <p>Manila City, Metro Manila  8 rooms</p>
                                        </div>
                                         <div class="house-status">
                                             <span class="status-badge-table status-active">Active</span>
                                             <div class="action-buttons-container">
                                                 <button class="action-btn" onclick="viewBoardingHouseDetails('city_view')">
                                                     <i class="fas fa-eye"></i> View
                                                 </button>
                                             </div>
                                         </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reports Section -->
        <div id="reports-section" class="content-section">
            <div class="content-header">
                <h1>Reports & Analytics</h1>
                <p>Generate and download various reports for system analysis and monitoring.</p>
            </div>
            
            <div class="data-table">
                <div class="table-header">
                    <h3><i class="fas fa-chart-bar"></i> Reports & Analytics</h3>
                    <span style="color: rgba(255,255,255,0.8);">Generate comprehensive system reports</span>
                </div>
                
                <div class="card-content">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                        <div class="report-card">
                            <div class="report-icon" style="background: linear-gradient(135deg, #28a745, #20c997);">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <h4>Payment Reports</h4>
                            <p>Generate detailed payment transaction reports</p>
                            <button class="action-btn">
                                <i class="fas fa-download"></i> Download Payment Report
                            </button>
                        </div>
                        
                        <div class="report-card">
                            <div class="report-icon" style="background: linear-gradient(135deg, #007bff, #0056b3);">
                                <i class="fas fa-home"></i>
                            </div>
                            <h4>Rental Reports</h4>
                            <p>View rental statistics and occupancy reports</p>
                            <button class="action-btn">
                                <i class="fas fa-download"></i> Download Rental Report
                            </button>
                        </div>
                        
                        <div class="report-card">
                            <div class="report-icon" style="background: linear-gradient(135deg, #6f42c1, #5a32a3);">
                                <i class="fas fa-users"></i>
                            </div>
                            <h4>User Activity Reports</h4>
                            <p>Monitor user engagement and activity patterns</p>
                            <button class="action-btn">
                                <i class="fas fa-download"></i> Download User Activity Report
                            </button>
                        </div>
                        
                        <div class="report-card">
                            <div class="report-icon" style="background: linear-gradient(135deg, #fd7e14, #e55a00);">
                                <i class="fas fa-server"></i>
                            </div>
                            <h4>System Performance Reports</h4>
                            <p>Analyze system performance and usage metrics</p>
                            <button class="action-btn">
                                <i class="fas fa-download"></i> Download System Performance Report
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="settings-section" class="content-section">
            <div class="content-header">
                <h1>System Settings</h1>
                <p>Configure system settings, security, and integrations.</p>
            </div>
            
            <div class="data-table">
                <div class="table-header">
                    <h3><i class="fas fa-cog"></i> System Settings</h3>
                    <span style="color: rgba(255,255,255,0.8);">Manage system configuration and preferences</span>
                </div>
                
                <div class="card-content">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                        <div class="settings-card">
                            <div class="settings-icon" style="background: linear-gradient(135deg, #17a2b8, #138496);">
                                <i class="fas fa-database"></i>
                            </div>
                            <h4>Database Management</h4>
                            <p>Backup and maintain system database</p>
                            <button class="action-btn">
                                <i class="fas fa-database"></i> Backup Database
                            </button>
                        </div>
                        
                        <div class="settings-card">
                            <div class="settings-icon" style="background: linear-gradient(135deg, #dc3545, #c82333);">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h4>Security Settings</h4>
                            <p>Configure security policies and access controls</p>
                            <button class="action-btn">
                                <i class="fas fa-shield-alt"></i> Security Settings
                            </button>
                        </div>
                        
                        <div class="settings-card">
                            <div class="settings-icon" style="background: linear-gradient(135deg, #28a745, #218838);">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <h4>Payment Integration</h4>
                            <p>Manage payment gateway configurations</p>
                            <button class="action-btn">
                                <i class="fas fa-credit-card"></i> Payment Integration
                            </button>
                        </div>
                        
                        <div class="settings-card">
                            <div class="settings-icon" style="background: linear-gradient(135deg, #ffc107, #e0a800);">
                                <i class="fas fa-bell"></i>
                            </div>
                            <h4>Notification Settings</h4>
                            <p>Configure notification preferences and templates</p>
                            <button class="action-btn">
                                <i class="fas fa-bell"></i> Notification Settings
                            </button>
                        </div>
                        
                        <div class="settings-card">
                            <div class="settings-icon" style="background: linear-gradient(135deg, #8D6E63, #A97A50);">
                                <i class="fas fa-user-cog"></i>
                            </div>
                            <h4>Account Management</h4>
                            <p>Manage admin accounts and user permissions</p>
                            <button class="action-btn">
                                <i class="fas fa-user-cog"></i> Account Management
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Section -->
        <div id="analytics-section" class="content-section">
            <div class="content-header">
                <h1>Analytics & Insights</h1>
                <p>Comprehensive analytics and insights for your BoardEase platform.</p>
            </div>
            
            <!-- Analytics Grid -->
            <div class="analytics-dashboard">
                <!-- User Analytics -->
                <div class="analytics-card">
                    <div class="analytics-header">
                        <h3><i class="fas fa-users"></i> User Analytics</h3>
                        <div class="analytics-period">
                            <select>
                                <option>Last 7 days</option>
                                <option>Last 30 days</option>
                                <option>Last 3 months</option>
                                <option>Last year</option>
                            </select>
                        </div>
                    </div>
                    <div class="analytics-content">
                        <div class="chart-container">
                            <canvas id="userAnalyticsChart" width="400" height="200"></canvas>
                        </div>
                        <div class="analytics-metrics">
                            <div class="metric">
                                <span class="metric-value">1,247</span>
                                <span class="metric-label">Total Users</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">89</span>
                                <span class="metric-label">New This Month</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">+12.5%</span>
                                <span class="metric-label">Growth Rate</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Revenue Analytics -->
                <div class="analytics-card">
                    <div class="analytics-header">
                        <h3><i class="fas fa-dollar-sign"></i> Revenue Analytics</h3>
                        <div class="analytics-period">
                            <select>
                                <option>Last 7 days</option>
                                <option>Last 30 days</option>
                                <option>Last 3 months</option>
                                <option>Last year</option>
                            </select>
                        </div>
                    </div>
                    <div class="analytics-content">
                        <div class="chart-container">
                            <canvas id="revenueAnalyticsChart" width="400" height="200"></canvas>
                        </div>
                        <div class="analytics-metrics">
                            <div class="metric">
                                <span class="metric-value">2.4M</span>
                                <span class="metric-label">Total Revenue</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">180K</span>
                                <span class="metric-label">This Month</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">+8.3%</span>
                                <span class="metric-label">Growth Rate</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Property Analytics -->
                <div class="analytics-card">
                    <div class="analytics-header">
                        <h3><i class="fas fa-home"></i> Property Analytics</h3>
                        <div class="analytics-period">
                            <select>
                                <option>Last 7 days</option>
                                <option>Last 30 days</option>
                                <option>Last 3 months</option>
                                <option>Last year</option>
                            </select>
                        </div>
                    </div>
                    <div class="analytics-content">
                        <div class="chart-container">
                            <canvas id="propertyAnalyticsChart" width="400" height="200"></canvas>
                        </div>
                        <div class="analytics-metrics">
                            <div class="metric">
                                <span class="metric-value">89</span>
                                <span class="metric-label">Total Properties</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">76</span>
                                <span class="metric-label">Occupied</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">85.4%</span>
                                <span class="metric-label">Occupancy Rate</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Analytics -->
                <div class="analytics-card">
                    <div class="analytics-header">
                        <h3><i class="fas fa-credit-card"></i> Payment Analytics</h3>
                        <div class="analytics-period">
                            <select>
                                <option>Last 7 days</option>
                                <option>Last 30 days</option>
                                <option>Last 3 months</option>
                                <option>Last year</option>
                            </select>
                        </div>
                    </div>
                    <div class="analytics-content">
                        <div class="chart-container">
                            <canvas id="paymentAnalyticsChart" width="400" height="200"></canvas>
                        </div>
                        <div class="analytics-metrics">
                            <div class="metric">
                                <span class="metric-value">1.2M</span>
                                <span class="metric-label">Total Payments</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">95.2%</span>
                                <span class="metric-label">Success Rate</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">4.8%</span>
                                <span class="metric-label">Failed Rate</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Geographic Distribution -->
                <div class="analytics-card full-width">
                    <div class="analytics-header">
                        <h3><i class="fas fa-map-marker-alt"></i> Geographic Distribution</h3>
                        <div class="analytics-period">
                            <select>
                                <option>All Locations</option>
                                <option>Metro Manila</option>
                                <option>Luzon</option>
                                <option>Visayas</option>
                                <option>Mindanao</option>
                            </select>
                        </div>
                    </div>
                    <div class="analytics-content">
                        <div class="geographic-grid">
                            <div class="location-stats">
                                <div class="location-item">
                                    <div class="location-info">
                                        <h4>Quezon City</h4>
                                        <p>Metro Manila</p>
                                    </div>
                                    <div class="location-metrics">
                                        <span class="location-count">23</span>
                                        <span class="location-label">Properties</span>
                                    </div>
                                    <div class="location-bar">
                                        <div class="location-fill" style="width: 85%;"></div>
                                    </div>
                                </div>
                                <div class="location-item">
                                    <div class="location-info">
                                        <h4>Makati City</h4>
                                        <p>Metro Manila</p>
                                    </div>
                                    <div class="location-metrics">
                                        <span class="location-count">18</span>
                                        <span class="location-label">Properties</span>
                                    </div>
                                    <div class="location-bar">
                                        <div class="location-fill" style="width: 67%;"></div>
                                    </div>
                                </div>
                                <div class="location-item">
                                    <div class="location-info">
                                        <h4>Manila City</h4>
                                        <p>Metro Manila</p>
                                    </div>
                                    <div class="location-metrics">
                                        <span class="location-count">15</span>
                                        <span class="location-label">Properties</span>
                                    </div>
                                    <div class="location-bar">
                                        <div class="location-fill" style="width: 56%;"></div>
                                    </div>
                                </div>
                                <div class="location-item">
                                    <div class="location-info">
                                        <h4>Pasig City</h4>
                                        <p>Metro Manila</p>
                                    </div>
                                    <div class="location-metrics">
                                        <span class="location-count">12</span>
                                        <span class="location-label">Properties</span>
                                    </div>
                                    <div class="location-bar">
                                        <div class="location-fill" style="width: 44%;"></div>
                                    </div>
                                </div>
                                <div class="location-item">
                                    <div class="location-info">
                                        <h4>Other Areas</h4>
                                        <p>Various Locations</p>
                                    </div>
                                    <div class="location-metrics">
                                        <span class="location-count">21</span>
                                        <span class="location-label">Properties</span>
                                    </div>
                                    <div class="location-bar">
                                        <div class="location-fill" style="width: 78%;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="geographicChart" width="300" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Document Verification Modal -->
    <div id="documentModal" class="modal">
        <div class="modal-content document-modal">
            <div class="modal-header">
                <h2><i class="fas fa-id-card"></i> Document Verification</h2>
                <span class="close" onclick="closeModal('documentModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="verification-container">
                    <!-- User Information -->
                    <div class="user-info-section">
                        <h3><i class="fas fa-user"></i> User Information</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <label>Full Name:</label>
                                <span id="verifyName">John Doe</span>
                            </div>
                            <div class="info-item">
                                <label>Email:</label>
                                <span id="verifyEmail">john.doe@email.com</span>
                            </div>
                            <div class="info-item">
                                <label>Phone:</label>
                                <span id="verifyPhone">+63 912 345 6789</span>
                            </div>
                            <div class="info-item">
                                <label>Account Type:</label>
                                <span id="verifyType">Boarding House Owner</span>
                            </div>
                            <div class="info-item">
                                <label>Business Name:</label>
                                <span id="verifyBusiness">Sunshine Boarding House</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document Images -->
                    <div class="document-section">
                        <h3><i class="fas fa-images"></i> Uploaded Documents</h3>
                        <div class="document-grid">
                            <div class="document-item">
                                <h4>Front ID</h4>
                                <div class="document-preview">
                                    <img id="frontIdImage" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkZyb250IElEIEltYWdlPC90ZXh0Pjwvc3ZnPg==" alt="Front ID" onclick="openImageModal('frontIdImage')">
                                </div>
                                <div class="document-actions">
                                    <button class="action-btn" onclick="downloadDocument('front_id')">
                                        <i class="fas fa-download"></i> Download
                                    </button>
                                    <button class="action-btn" onclick="zoomDocument('frontIdImage')">
                                        <i class="fas fa-search-plus"></i> Zoom
                                    </button>
                                </div>
                            </div>
                            <div class="document-item">
                                <h4>Back ID</h4>
                                <div class="document-preview">
                                    <img id="backIdImage" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkJhY2sgSUQgSW1hZ2U8L3RleHQ+PC9zdmc+" alt="Back ID" onclick="openImageModal('backIdImage')">
                                </div>
                                <div class="document-actions">
                                    <button class="action-btn" onclick="downloadDocument('back_id')">
                                        <i class="fas fa-download"></i> Download
                                    </button>
                                    <button class="action-btn" onclick="zoomDocument('backIdImage')">
                                        <i class="fas fa-search-plus"></i> Zoom
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Verification Checklist -->
                    <div class="verification-checklist">
                        <h3><i class="fas fa-clipboard-check"></i> Verification Checklist</h3>
                        <div class="checklist-items">
                            <label class="checklist-item">
                                <input type="checkbox" id="nameMatch">
                                <span class="checkmark"></span>
                                Name on ID matches user information
                            </label>
                            <label class="checklist-item">
                                <input type="checkbox" id="photoMatch">
                                <span class="checkmark"></span>
                                Photo on ID appears to match user
                            </label>
                            <label class="checklist-item">
                                <input type="checkbox" id="documentValid">
                                <span class="checkmark"></span>
                                Document appears valid and not tampered
                            </label>
                            <label class="checklist-item">
                                <input type="checkbox" id="informationComplete">
                                <span class="checkmark"></span>
                                All required information is visible and clear
                            </label>
                        </div>
                    </div>

                    <!-- Email Verification Section -->
                    <div class="email-verification-section">
                        <h3><i class="fas fa-envelope"></i> Email Verification</h3>
                        <div class="verification-status" id="verificationStatus">
                            <div class="status-item">
                                <i class="fas fa-clock status-pending"></i>
                                <span id="emailVerificationText">Loading verification status...</span>
                            </div>
                        </div>
                    </div>

                    <!-- Verification Notes -->
                    <div class="verification-notes">
                        <h3><i class="fas fa-sticky-note"></i> Verification Notes</h3>
                        <textarea id="verificationNotes" placeholder="Add any notes about the verification process..." rows="4"></textarea>
                    </div>

                    <!-- Action Buttons -->
                    <div class="verification-actions-final">
                        <h3><i class="fas fa-gavel"></i> Final Decision</h3>
                        <div class="action-buttons-container">
                            <button class="action-btn danger" onclick="rejectWithReason()" id="rejectBtn" disabled>
                                <i class="fas fa-times"></i> Reject Application
                            </button>
                            <button class="action-btn success" onclick="approveWithVerification()" id="approveBtn" disabled>
                                <i class="fas fa-check"></i> Approve Application
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Zoom Modal -->
    <div id="imageModal" class="modal">
        <div class="modal-content image-modal">
            <span class="close" onclick="closeModal('imageModal')">&times;</span>
            <img id="zoomedImage" src="" alt="Zoomed Document">
        </div>
    </div>

    <script>
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function switchTab(tabName) {
            // Remove active class from all tabs and contents
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        function switchUserTab(tabName) {
            // Remove active class from all user management tabs and contents
            document.querySelectorAll('#user-management-section .tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('#user-management-section .tab-content').forEach(content => content.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        function switchNotificationTab(tabName) {
            // Remove active class from all notification tabs and contents
            document.querySelectorAll('#notifications-section .tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('#notifications-section .tab-content').forEach(content => content.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        function switchBoardingHouseTab(tabName) {
            // Remove active class from all boarding house tabs and contents
            document.querySelectorAll('#boarding-houses-section .tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('#boarding-houses-section .tab-content').forEach(content => content.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        // Boarding Houses Management Functions
        function filterBoardingHouses(filter) {
            // Update active filter button
            document.querySelectorAll('#all-tab .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Here you would filter the table data
            console.log('Filtering boarding houses by:', filter);
        }

        function viewBoardingHouseDetails(houseId) {
            alert(`Viewing details for boarding house: ${houseId}`);
        }

        // Dispute Resolution Functions
        function filterDisputes(filter) {
            // Remove active class from all filter buttons
            document.querySelectorAll('#disputes-tab .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Filter logic would go here
            console.log('Filtering disputes by:', filter);
        }

        function viewDisputeDetails(disputeId) {
            alert(`Viewing dispute details: ${disputeId}`);
        }

        function assignDispute(disputeId) {
            alert(`Assigning dispute: ${disputeId}`);
        }

        function resolveDispute(disputeId) {
            alert(`Resolving dispute: ${disputeId}`);
        }

        function viewResolution(disputeId) {
            alert(`Viewing resolution for dispute: ${disputeId}`);
        }

        // Flagged Accounts Functions
        function filterFlagged(filter) {
            // Remove active class from all filter buttons
            document.querySelectorAll('#flagged-tab .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Filter logic would go here
            console.log('Filtering flagged accounts by:', filter);
        }

        function viewFlaggedDetails(userId) {
            alert(`Viewing flagged account details: ${userId}`);
        }

        function unflagUser(userId) {
            if (confirm('Are you sure you want to unflag this user?')) {
                alert(`User ${userId} has been unflagged`);
                // Here you would update the database and refresh the table
            }
        }

        function suspendUser(userId) {
            const reason = prompt('Please provide a reason for suspension:');
            if (reason && reason.trim() !== '') {
                if (confirm('Are you sure you want to suspend this user?')) {
                    alert(`User ${userId} has been suspended. Reason: ${reason}`);
                    // Here you would update the database and refresh the table
                }
            }
        }

        function unsuspendUser(userId) {
            if (confirm('Are you sure you want to unsuspend this user?')) {
                alert(`User ${userId} has been unsuspended`);
                // Here you would update the database and refresh the table
            }
        }

        function unbanUser(userId) {
            if (confirm('Are you sure you want to unban this user?')) {
                alert(`User ${userId} has been unbanned`);
                // Here you would update the database and refresh the table
            }
        }

        // Document Verification Functions
        function viewDocuments(registrationId) {
            console.log('Viewing documents for registration ID:', registrationId);
            
            // Fetch registration data
            fetch('../get_registration_details.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: 'registration_id=' + registrationId
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const reg = data.registration;
                    
                    // Update modal with real data
                    document.getElementById('verifyName').textContent = reg.full_name;
                    document.getElementById('verifyEmail').textContent = reg.email;
                    document.getElementById('verifyPhone').textContent = reg.phone;
                    document.getElementById('verifyType').textContent = reg.role;
                    document.getElementById('verifyBusiness').textContent = reg.address || 'N/A';
                    
                    // Update document images
                    if (reg.id_front_file) {
                        document.getElementById('frontIdImage').src = '../' + reg.id_front_file;
                    }
                    if (reg.id_back_file) {
                        document.getElementById('backIdImage').src = '../' + reg.id_back_file;
                    }
                    if (reg.gcash_qr) {
                        document.getElementById('gcashQrImage').src = '../' + reg.gcash_qr;
                    }
                    
                    // Store registration ID for approve/decline actions
                    document.getElementById('documentModal').setAttribute('data-registration-id', registrationId);
                    
                    // Update email verification status
                    updateEmailVerificationStatus(reg.email_verified);
                    
                    // Show the modal
                    openModal('documentModal');
                } else {
                    alert('Error loading registration details: ' + data.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Error loading registration details. Please try again.');
            });
        }

        function getUserData(userId) {
            // Sample user data - in real implementation, this would come from server
            const userDataMap = {
                'john_doe': {
                    name: 'John Doe',
                    email: 'john.doe@email.com',
                    phone: '+63 912 345 6789',
                    type: 'Boarding House Owner',
                    business: 'Sunshine Boarding House',
                    frontIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkpvaG4gRG9lIC0gRnJvbnQgSUQ8L3RleHQ+PC9zdmc+',
                    backIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkpvaG4gRG9lIC0gQmFjayBJRDwvdGV4dD48L3N2Zz4='
                },
                'maria_santos': {
                    name: 'Maria Santos',
                    email: 'maria.santos@email.com',
                    phone: '+63 917 123 4567',
                    type: 'Boarder',
                    business: 'N/A',
                    frontIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk1hcmlhIFNhbnRvcyAtIEZyb250IElEPC90ZXh0Pjwvc3ZnPg==',
                    backIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk1hcmlhIFNhbnRvcyAtIEJhY2sgSUQ8L3RleHQ+PC9zdmc+'
                },
                'anna_garcia': {
                    name: 'Anna Garcia',
                    email: 'anna.garcia@email.com',
                    phone: '+63 919 876 5432',
                    type: 'Boarder',
                    business: 'N/A',
                    frontIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkFubmEgR2FyY2lhIC0gRnJvbnQgSUQ8L3RleHQ+PC9zdmc+',
                    backIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkFubmEgR2FyY2lhIC0gQmFjayBJRDwvdGV4dD48L3N2Zz4='
                },
                'david_lee': {
                    name: 'David Lee',
                    email: 'david.lee@email.com',
                    phone: '+63 918 555 1234',
                    type: 'Boarder',
                    business: 'N/A',
                    frontIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkRhdmlkIExlZSAtIEZyb250IElEPC90ZXh0Pjwvc3ZnPg==',
                    backIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkRhdmlkIExlZSAtIEJhY2sgSUQ8L3RleHQ+PC9zdmc+'
                },
                'robert_brown': {
                    name: 'Robert Brown',
                    email: 'robert.brown@email.com',
                    phone: '+63 918 765 4321',
                    type: 'Boarding House Owner',
                    business: 'Metro Boarding House',
                    frontIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPlJvYmVydCBCcm93biAtIEZyb250IElEPC90ZXh0Pjwvc3ZnPg==',
                    backIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPlJvYmVydCBCcm93biAtIEJhY2sgSUQ8L3RleHQ+PC9zdmc+'
                },
                'sarah_wilson': {
                    name: 'Sarah Wilson',
                    email: 'sarah.wilson@email.com',
                    phone: '+63 916 234 5678',
                    type: 'Boarding House Owner',
                    business: 'Wilson Residence',
                    frontIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPlNhcmFoIFdpbHNvbiAtIEZyb250IElEPC90ZXh0Pjwvc3ZnPg==',
                    backIdImage: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjhmOWZhIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPlNhcmFoIFdpbHNvbiAtIEJhY2sgSUQ8L3RleHQ+PC9zdmc+'
                }
            };
            
            return userDataMap[userId] || userDataMap['john_doe'];
        }

        function clearVerificationData() {
            // Clear checkboxes
            document.getElementById('nameMatch').checked = false;
            document.getElementById('photoMatch').checked = false;
            document.getElementById('documentValid').checked = false;
            document.getElementById('informationComplete').checked = false;
            
            // Clear notes
            document.getElementById('verificationNotes').value = '';
            
            // Reset email verification status
            resetEmailVerificationStatus();
        }

        function resetEmailVerificationStatus() {
            // Reset status display
            const statusDiv = document.getElementById('verificationStatus');
            statusDiv.innerHTML = `
                <div class="status-item">
                    <i class="fas fa-clock status-pending"></i>
                    <span>Email verification pending</span>
                </div>
            `;
            
            // Show send button, hide check button
            document.getElementById('sendVerificationBtn').style.display = 'inline-block';
            document.getElementById('checkVerificationBtn').style.display = 'none';
            
            // Disable approve/reject buttons
            document.getElementById('approveBtn').disabled = true;
            document.getElementById('rejectBtn').disabled = true;
        }

        function openImageModal(imageId) {
            const img = document.getElementById(imageId);
            document.getElementById('zoomedImage').src = img.src;
            openModal('imageModal');
        }

        function downloadDocument(docType) {
            alert(`Downloading ${docType} document...`);
            // In real implementation, this would trigger a download
        }

        function zoomDocument(imageId) {
            openImageModal(imageId);
        }

        // Email Verification Functions
        function updateEmailVerificationStatus(emailVerified) {
            const statusDiv = document.getElementById('verificationStatus');
            const textElement = document.getElementById('emailVerificationText');
            const iconElement = statusDiv.querySelector('i');
            
            if (emailVerified == 1) {
                // Email is verified
                iconElement.className = 'fas fa-check-circle status-verified';
                textElement.textContent = 'Email verified';
            } else {
                // Email is not verified
                iconElement.className = 'fas fa-times-circle status-failed';
                textElement.textContent = 'Email not verified';
            }
        }

        function approveWithVerification() {
            const notes = document.getElementById('verificationNotes').value;
            const nameMatch = document.getElementById('nameMatch').checked;
            const photoMatch = document.getElementById('photoMatch').checked;
            const documentValid = document.getElementById('documentValid').checked;
            const informationComplete = document.getElementById('informationComplete').checked;
            
            // Check if email is verified
            const statusText = document.getElementById('verificationStatus').textContent;
            if (!statusText.includes('verified successfully')) {
                alert('Please ensure email verification is completed before approving.');
                return;
            }
            
            if (!nameMatch || !photoMatch || !documentValid || !informationComplete) {
                alert('Please complete all verification checklist items before approving.');
                return;
            }
            
            if (confirm('Are you sure you want to approve this application after verification?')) {
                alert('Application approved successfully!');
                closeModal('documentModal');
                // Here you would update the database and refresh the pending approvals
            }
        }

        function rejectWithReason() {
            // Check if email verification is completed (either verified or failed)
            const statusText = document.getElementById('verificationStatus').textContent;
            if (statusText.includes('pending')) {
                alert('Please complete the email verification process before rejecting.');
                return;
            }
            
            const reason = prompt('Please provide a reason for rejection:');
            if (reason && reason.trim() !== '') {
                if (confirm('Are you sure you want to reject this application?')) {
                    alert(`Application rejected. Reason: ${reason}`);
                    closeModal('documentModal');
                    // Here you would update the database and refresh the pending approvals
                }
            }
        }

        function deactivateBoardingHouse(houseId) {
            const reason = prompt('Please provide a reason for deactivation:');
            if (reason && reason.trim() !== '') {
                if (confirm('Are you sure you want to deactivate this boarding house?')) {
                    alert(`Boarding house ${houseId} deactivated successfully!`);
                }
            }
        }


        function toggleSidebar() {
            const sidebar = document.querySelector('.sidebar');
            sidebar.classList.toggle('open');
        }

        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName + '-section').classList.add('active');
            
            // Add active class to clicked nav item
            event.target.classList.add('active');
            
            // Load data for specific sections
            switch(sectionName) {
                case 'user-management':
                    loadUserManagementData();
                    break;
                case 'boarding-houses':
                    loadBoardingHousesData();
                    break;
                case 'notifications':
                    loadNotificationsData();
                    break;
                case 'analytics':
                    // Re-initialize charts for analytics section
                    setTimeout(initializeCharts, 100);
                    break;
                case 'dashboard':
                    // Load pending registrations for dashboard
                    loadPendingRegistrations();
                    break;
            }
        }
        
        // Load Pending Registrations Data
        async function loadPendingRegistrations() {
            try {
                console.log('Loading pending registrations...');
                const response = await fetch('../get_pending_registrations.php');
                const data = await response.json();
                
                console.log('API Response:', data);
                
                if (data.success) {
                    console.log('Successfully loaded', data.count, 'pending registrations');
                    updatePendingApprovalsUI(data.data);
                } else {
                    console.error('Error loading pending registrations:', data.message);
                }
            } catch (error) {
                console.error('Error loading pending registrations:', error);
            }
        }

        // Load User Management Data
        async function loadUserManagementData() {
            try {
                // Load regular users
                const response = await fetch('../get_admin_users_simple.php?type=all&status=all');
                const data = await response.json();
                
                if (data.success) {
                    updateUserManagementTables(data.data);
                } else {
                    console.error('Error loading user data:', data.error);
                }
                
                // Load pending registrations for user management
                const pendingResponse = await fetch('../get_pending_registrations.php');
                const pendingData = await pendingResponse.json();
                
                if (pendingData.success) {
                    updateUserManagementPendingRegistrations(pendingData.data);
                }
                
                // Load disputes
                const disputesResponse = await fetch('get_admin_disputes.php?type=disputes&status=all');
                const disputesData = await disputesResponse.json();
                
                if (disputesData.success) {
                    updateDisputesTable(disputesData.data);
                }
                
                // Load flagged users
                const flaggedResponse = await fetch('get_admin_disputes.php?type=flagged&status=all');
                const flaggedData = await flaggedResponse.json();
                
                if (flaggedData.success) {
                    updateFlaggedUsersTable(flaggedData.data);
                }
                
            } catch (error) {
                console.error('Error loading user management data:', error);
            }
        }
        
        // Load Notifications Data
        async function loadNotificationsData() {
            try {
                const response = await fetch('get_admin_notifications.php?action=list&type=all&status=all');
                const data = await response.json();
                
                if (data.success) {
                    updateNotificationsTable(data.data);
                } else {
                    console.error('Error loading notifications data:', data.error);
                }
            } catch (error) {
                console.error('Error loading notifications data:', error);
            }
        }
        
        // Load Boarding Houses Data
        async function loadBoardingHousesData() {
            try {
                const response = await fetch('get_admin_boarding_houses.php?status=all');
                const data = await response.json();
                
                if (data.success) {
                    updateBoardingHousesTables(data.data);
                } else {
                    console.error('Error loading boarding houses data:', data.error);
                }
            } catch (error) {
                console.error('Error loading boarding houses data:', error);
            }
        }
        
        // Update Pending Approvals UI
        function updatePendingApprovalsUI(registrations) {
            const pendingApprovalsContainer = document.querySelector('.pending-approvals');
            if (!pendingApprovalsContainer) {
                console.error('Pending approvals container not found');
                return;
            }

            console.log('Updating pending approvals UI with', registrations.length, 'registrations');
            console.log('Container found:', pendingApprovalsContainer);

            if (registrations.length === 0) {
                pendingApprovalsContainer.innerHTML = '<div class="no-data">No pending registrations</div>';
                return;
            }

            let html = '';
            registrations.forEach(registration => {
                const initials = (registration.first_name.charAt(0) + registration.last_name.charAt(0)).toUpperCase();
                const roleText = registration.role === 'BH Owner' ? 'Owner Registration' : 'Boarder Registration';
                const registrationDate = new Date(registration.created_at).toLocaleDateString();
                const timeAgo = getTimeAgo(registration.created_at);
                
                html += `
                    <div class="approval-card" data-registration-id="${registration.id}">
                        <div class="approval-header">
                            <div class="approval-user">
                                <div class="user-avatar">${initials}</div>
                                <div>
                                    <strong>${registration.full_name}</strong><br>
                                    <small>${roleText}</small>
                                </div>
                            </div>
                            <div class="approval-actions">
                                <button class="action-btn" onclick="viewDocuments(${registration.id})">
                                    <i class="fas fa-id-card"></i> View ID
                                </button>
                                <button class="action-btn success" onclick="approveUser(${registration.id})">
                                    <i class="fas fa-check"></i> Approve
                                </button>
                                <button class="action-btn danger" onclick="rejectUser(${registration.id})">
                                    <i class="fas fa-times"></i> Reject
                                </button>
                            </div>
                        </div>
                        <div class="approval-details">
                            <strong>Email:</strong> ${registration.email}<br>
                            <strong>Phone:</strong> ${registration.phone}<br>
                            <strong>ID Type:</strong> ${registration.valid_id_type}<br>
                            <strong>ID Number:</strong> ${registration.id_number}
                        </div>
                        <div class="verification-badge verification-pending">
                            <i class="fas fa-clock"></i> Pending Approval
                        </div>
                        <div class="registration-date">Registered: ${timeAgo}</div>
                    </div>
                `;
            });

            console.log('Generated HTML:', html);
            pendingApprovalsContainer.innerHTML = html;
            console.log('HTML updated successfully');
        }

        // Update User Management Pending Registrations
        function updateUserManagementPendingRegistrations(registrations) {
            // Update boarders table with pending registrations
            const boardersTable = document.querySelector('#boarders-tab tbody');
            if (boardersTable) {
                const pendingBoarders = registrations.filter(reg => reg.role === 'Boarder');
                let pendingRows = '';
                
                pendingBoarders.forEach(registration => {
                    const initials = (registration.first_name.charAt(0) + registration.last_name.charAt(0)).toUpperCase();
                    const registrationDate = new Date(registration.created_at).toLocaleDateString();
                    
                    pendingRows += `
                        <tr data-registration-id="${registration.id}">
                            <td>
                                <div class="user-info-cell">
                                    <div class="user-avatar-small">${initials}</div>
                                    <div>
                                        <strong>${registration.full_name}</strong><br>
                                        <small>${registration.phone}</small>
                                    </div>
                                </div>
                            </td>
                            <td>${registration.email}</td>
                            <td><span class="status-badge-table status-pending">Pending Approval</span></td>
                            <td>${registrationDate}</td>
                            <td>
                                <div class="action-buttons-container">
                                    <button class="action-btn" onclick="viewDocuments(${registration.id})">
                                        <i class="fas fa-id-card"></i> View ID
                                    </button>
                                    <button class="action-btn success" onclick="approveUser(${registration.id})">
                                        <i class="fas fa-check"></i> Approve
                                    </button>
                                    <button class="action-btn danger" onclick="rejectUser(${registration.id})">
                                        <i class="fas fa-times"></i> Reject
                                    </button>
                                </div>
                            </td>
                        </tr>
                    `;
                });
                
                // Add pending registrations to the table
                boardersTable.innerHTML += pendingRows;
            }

            // Update owners table with pending registrations
            const ownersTable = document.querySelector('#owners-tab tbody');
            if (ownersTable) {
                const pendingOwners = registrations.filter(reg => reg.role === 'BH Owner');
                let pendingRows = '';
                
                pendingOwners.forEach(registration => {
                    const initials = (registration.first_name.charAt(0) + registration.last_name.charAt(0)).toUpperCase();
                    const registrationDate = new Date(registration.created_at).toLocaleDateString();
                    
                    pendingRows += `
                        <tr data-registration-id="${registration.id}">
                            <td>
                                <div class="user-info-cell">
                                    <div class="user-avatar-small">${initials}</div>
                                    <div>
                                        <strong>${registration.full_name}</strong><br>
                                        <small>${registration.phone}</small>
                                    </div>
                                </div>
                            </td>
                            <td>${registration.email}</td>
                            <td>0 properties</td>
                            <td><span class="status-badge-table status-pending">Pending Approval</span></td>
                            <td>${registrationDate}</td>
                            <td>
                                <div class="action-buttons-container">
                                    <button class="action-btn" onclick="viewDocuments(${registration.id})">
                                        <i class="fas fa-id-card"></i> View ID
                                    </button>
                                    <button class="action-btn success" onclick="approveUser(${registration.id})">
                                        <i class="fas fa-check"></i> Approve
                                    </button>
                                    <button class="action-btn danger" onclick="rejectUser(${registration.id})">
                                        <i class="fas fa-times"></i> Reject
                                    </button>
                                </div>
                            </td>
                        </tr>
                    `;
                });
                
                // Add pending registrations to the table
                ownersTable.innerHTML += pendingRows;
            }
        }

        // Helper function to get time ago
        function getTimeAgo(dateString) {
            const now = new Date();
            const date = new Date(dateString);
            const diffInSeconds = Math.floor((now - date) / 1000);
            
            if (diffInSeconds < 60) return 'Just now';
            if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} minutes ago`;
            if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} hours ago`;
            return `${Math.floor(diffInSeconds / 86400)} days ago`;
        }

        // Update User Management Tables
        function updateUserManagementTables(userData) {
            // Update boarders table
            const boardersTable = document.querySelector('#boarders-tab .table-body');
            if (boardersTable) {
                const boarders = userData.users.filter(user => user.role === 'Boarder');
                boardersTable.innerHTML = boarders.map(user => `
                    <tr>
                        <td>
                            <div class="user-info">
                                <img src="${user.profile_picture || 'https://via.placeholder.com/40'}" alt="${user.full_name}">
                                <div>
                                    <div class="user-name">${user.full_name}</div>
                                    <div class="user-email">${user.email}</div>
                                </div>
                            </div>
                        </td>
                        <td>${user.phone_number || 'N/A'}</td>
                        <td><span class="status-badge ${user.status.toLowerCase()}">${user.status}</span></td>
                        <td>${user.activity_count}</td>
                        <td>${new Date(user.created_at).toLocaleDateString()}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn view" onclick="viewBoarderDetails(${user.user_id})">View</button>
                                <button class="action-btn ${user.status === 'Active' ? 'suspend' : 'approve'}" 
                                        onclick="${user.status === 'Active' ? 'suspendBoarder' : 'approveBoarder'}(${user.user_id})">
                                    ${user.status === 'Active' ? 'Suspend' : 'Approve'}
                                </button>
                            </div>
                        </td>
                    </tr>
                `).join('');
            }
            
            // Update owners table
            const ownersTable = document.querySelector('#owners-tab .table-body');
            if (ownersTable) {
                const owners = userData.users.filter(user => user.role === 'Owner');
                ownersTable.innerHTML = owners.map(user => `
                    <tr>
                        <td>
                            <div class="user-info">
                                <img src="${user.profile_picture || 'https://via.placeholder.com/40'}" alt="${user.full_name}">
                                <div>
                                    <div class="user-name">${user.full_name}</div>
                                    <div class="user-email">${user.email}</div>
                                </div>
                            </div>
                        </td>
                        <td>${user.phone_number || 'N/A'}</td>
                        <td><span class="status-badge ${user.status.toLowerCase()}">${user.status}</span></td>
                        <td>${user.activity_count}</td>
                        <td>${new Date(user.created_at).toLocaleDateString()}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn view" onclick="viewOwnerDetails(${user.user_id})">View</button>
                                <button class="action-btn verify" onclick="viewDocuments('${user.user_id}')">Verify</button>
                                <button class="action-btn ${user.status === 'Active' ? 'suspend' : 'approve'}" 
                                        onclick="${user.status === 'Active' ? 'suspendOwner' : 'approveOwner'}(${user.user_id})">
                                    ${user.status === 'Active' ? 'Suspend' : 'Approve'}
                                </button>
                            </div>
                        </td>
                    </tr>
                `).join('');
            }
        }
        
        // Update Boarding Houses Tables
        function updateBoardingHousesTables(boardingHousesData) {
            const boardingHousesTable = document.querySelector('#all-tab .table-body');
            if (boardingHousesTable) {
                boardingHousesTable.innerHTML = boardingHousesData.boarding_houses.map(house => `
                    <tr>
                        <td>
                            <div class="property-info">
                                <div class="property-name">${house.bh_name}</div>
                                <div class="property-address">${house.bh_address}</div>
                            </div>
                        </td>
                        <td>${house.owner_name}</td>
                        <td>${house.total_rooms}</td>
                        <td>${house.total_room_units}</td>
                        <td>${house.total_bookings}</td>
                        <td><span class="status-badge ${house.status.toLowerCase()}">${house.status}</span></td>
                        <td>${new Date(house.created_at).toLocaleDateString()}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn view" onclick="viewBoardingHouseDetails(${house.bh_id})">View</button>
                                <button class="action-btn ${house.status === 'Active' ? 'suspend' : 'approve'}" 
                                        onclick="${house.status === 'Active' ? 'suspendBoardingHouse' : 'approveBoardingHouse'}(${house.bh_id})">
                                    ${house.status === 'Active' ? 'Suspend' : 'Approve'}
                                </button>
                            </div>
                        </td>
                    </tr>
                `).join('');
            }
        }
        
        // Update Disputes Table
        function updateDisputesTable(disputesData) {
            const disputesTable = document.querySelector('#disputes-tab .table-body');
            if (disputesTable) {
                disputesTable.innerHTML = disputesData.disputes.map(dispute => `
                    <tr>
                        <td>
                            <div class="dispute-info">
                                <div class="dispute-title">${dispute.dispute_type}</div>
                                <div class="dispute-description">${dispute.dispute_description}</div>
                            </div>
                        </td>
                        <td>
                            <div class="user-info">
                                <div class="user-name">${dispute.complainant_name}</div>
                                <div class="user-email">${dispute.complainant_email}</div>
                            </div>
                        </td>
                        <td>
                            <div class="user-info">
                                <div class="user-name">${dispute.respondent_name}</div>
                                <div class="user-email">${dispute.respondent_email}</div>
                            </div>
                        </td>
                        <td>${dispute.property_name}</td>
                        <td><span class="status-badge ${dispute.dispute_status.toLowerCase()}">${dispute.dispute_status}</span></td>
                        <td>${new Date(dispute.dispute_date).toLocaleDateString()}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn view" onclick="viewDisputeDetails(${dispute.dispute_id})">View</button>
                                <button class="action-btn assign" onclick="assignDispute(${dispute.dispute_id})">Assign</button>
                                <button class="action-btn resolve" onclick="resolveDispute(${dispute.dispute_id})">Resolve</button>
                            </div>
                        </td>
                    </tr>
                `).join('');
            }
        }
        
        // Update Flagged Users Table
        function updateFlaggedUsersTable(flaggedData) {
            const flaggedTable = document.querySelector('#flagged-tab .table-body');
            if (flaggedTable) {
                flaggedTable.innerHTML = flaggedData.flagged_users.map(user => `
                    <tr>
                        <td>
                            <div class="user-info">
                                <img src="${user.profile_picture || 'https://via.placeholder.com/40'}" alt="${user.full_name}">
                                <div>
                                    <div class="user-name">${user.full_name}</div>
                                    <div class="user-email">${user.email}</div>
                                </div>
                            </div>
                        </td>
                        <td>${user.role}</td>
                        <td><span class="status-badge ${user.status.toLowerCase()}">${user.status}</span></td>
                        <td>
                            <div class="flag-reason">
                                <div class="flag-title">${user.flag_reason}</div>
                                <div class="flag-description">${user.flag_description}</div>
                            </div>
                        </td>
                        <td>
                            <div class="flag-stats">
                                <div>Cancelled: ${user.cancelled_bookings}</div>
                                <div>Pending: ${user.pending_bookings}</div>
                                <div>Inactive: ${user.inactive_properties}</div>
                            </div>
                        </td>
                        <td>${new Date(user.created_at).toLocaleDateString()}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn view" onclick="viewFlaggedDetails(${user.user_id})">View</button>
                                <button class="action-btn unflag" onclick="unflagUser(${user.user_id})">Unflag</button>
                                <button class="action-btn ${user.status === 'Active' ? 'suspend' : 'unsuspend'}" 
                                        onclick="${user.status === 'Active' ? 'suspendUser' : 'unsuspendUser'}(${user.user_id})">
                                    ${user.status === 'Active' ? 'Suspend' : 'Unsuspend'}
                                </button>
                            </div>
                        </td>
                    </tr>
                `).join('');
            }
        }
        
        // Update Notifications Table
        function updateNotificationsTable(notificationsData) {
            // Update system notifications table
            const systemTable = document.querySelector('#system-tab .notification-list');
            if (systemTable && notificationsData.notifications) {
                systemTable.innerHTML = notificationsData.notifications.map(notification => `
                    <div class="notification-item">
                        <div class="notification-icon">
                            <i class="fas fa-${getNotificationIcon(notification.notif_type)}"></i>
                        </div>
                        <div class="notification-content">
                            <div class="notification-title">${notification.notif_title}</div>
                            <div class="notification-message">${notification.notif_message}</div>
                            <div class="notification-meta">
                                <span class="notification-type">${notification.notif_type}</span>
                                <span class="notification-user">${notification.user_name} (${notification.user_role})</span>
                                <span class="notification-time">${new Date(notification.notif_created_at).toLocaleString()}</span>
                            </div>
                        </div>
                        <div class="notification-status">
                            <span class="status-badge ${notification.notif_status}">${notification.notif_status}</span>
                        </div>
                    </div>
                `).join('');
            }
            
            // Update notification statistics
            if (notificationsData.statistics) {
                updateNotificationStats(notificationsData.statistics);
            }
        }
        
        // Get notification icon based on type
        function getNotificationIcon(type) {
            const icons = {
                'booking': 'calendar-check',
                'payment': 'credit-card',
                'announcement': 'bullhorn',
                'maintenance': 'tools',
                'general': 'bell'
            };
            return icons[type] || 'bell';
        }
        
        // Update notification statistics
        function updateNotificationStats(stats) {
            // Update unread count
            const unreadElement = document.querySelector('#unread-notifications-count');
            if (unreadElement) {
                unreadElement.textContent = stats.unread_count || 0;
            }
            
            // Update recent notifications count
            const recentElement = document.querySelector('#recent-notifications-count');
            if (recentElement) {
                recentElement.textContent = stats.recent_notifications || 0;
            }
        }
        
        // Send Notification Function
        async function sendNotification(notificationData) {
            try {
                const response = await fetch('get_admin_notifications.php?action=send', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(notificationData)
                });
                
                const data = await response.json();
                
                if (data.success) {
                    alert(`Notification sent successfully to ${data.data.sent_count} users!`);
                    // Refresh notifications list
                    loadNotificationsData();
                } else {
                    alert('Error sending notification: ' + data.error);
                }
            } catch (error) {
                console.error('Error sending notification:', error);
                alert('Error sending notification. Please try again.');
            }
        }

        // Boarders Management Functions
        function filterBoarders(filter) {
            // Update active filter button
            document.querySelectorAll('#boarders-tab .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Here you would filter the table data
            console.log('Filtering boarders by:', filter);
        }

        function viewBoarderDetails(boarderId) {
            alert(`Viewing details for boarder: ${boarderId}`);
        }

        function suspendBoarder(boarderId) {
            const reason = prompt('Please provide a reason for suspension:');
            if (reason && reason.trim() !== '') {
                if (confirm('Are you sure you want to suspend this boarder?')) {
                    alert(`Boarder ${boarderId} suspended successfully!`);
                }
            }
        }

        function approveBoarder(boarderId) {
            if (confirm('Are you sure you want to approve this boarder?')) {
                alert(`Boarder ${boarderId} approved successfully!`);
            }
        }

        function rejectBoarder(boarderId) {
            const reason = prompt('Please provide a reason for rejection:');
            if (reason && reason.trim() !== '') {
                if (confirm('Are you sure you want to reject this boarder?')) {
                    alert(`Boarder ${boarderId} rejected successfully!`);
                }
            }
        }

        // Owners Management Functions
        function filterOwners(filter) {
            // Update active filter button
            document.querySelectorAll('#owners-tab .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Here you would filter the table data
            console.log('Filtering owners by:', filter);
        }

        function viewOwnerDetails(ownerId) {
            alert(`Viewing details for owner: ${ownerId}`);
        }

        function suspendOwner(ownerId) {
            const reason = prompt('Please provide a reason for suspension:');
            if (reason && reason.trim() !== '') {
                if (confirm('Are you sure you want to suspend this owner?')) {
                    alert(`Owner ${ownerId} suspended successfully!`);
                }
            }
        }

        function approveOwner(ownerId) {
            if (confirm('Are you sure you want to approve this owner?')) {
                alert(`Owner ${ownerId} approved successfully!`);
            }
        }

        function rejectOwner(ownerId) {
            const reason = prompt('Please provide a reason for rejection:');
            if (reason && reason.trim() !== '') {
                if (confirm('Are you sure you want to reject this owner?')) {
                    alert(`Owner ${ownerId} rejected successfully!`);
                }
            }
        }

        // Notifications Functions
        function clearNotificationForm() {
            document.getElementById('notificationForm').reset();
        }

        // Handle notification form submission
        document.getElementById('notificationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const recipients = this.querySelector('select[name="recipients"]').value;
            const notificationType = this.querySelector('select[name="notification_type"]').value;
            const title = this.querySelector('input[name="title"]').value;
            const message = this.querySelector('textarea[name="message"]').value;
            
            if (confirm(`Send notification to ${recipients}?\n\nSubject: ${title}\nMessage: ${message}`)) {
                // Send notification using our API
                const notificationData = {
                    recipients: recipients,
                    notification_type: notificationType,
                    title: title,
                    message: message
                };
                
                sendNotification(notificationData);
            }
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // User approval functions
        function approveUser(registrationId) {
            if (confirm('Are you sure you want to approve this registration? The user will be moved to the users table.')) {
                const formData = new FormData();
                formData.append('registration_id', registrationId);
                formData.append('action', 'approve');

                fetch('../approved_registration.php', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        alert('Registration approved successfully! User has been added to the system.');
                        // Remove the approval card/row
                        const card = document.querySelector(`[data-registration-id="${registrationId}"]`);
                        if (card) {
                            card.style.opacity = '0.5';
                            card.style.pointerEvents = 'none';
                            setTimeout(() => {
                                card.remove();
                            }, 1000);
                        }
                        
                        // Update pending approvals count
                        updatePendingCount(-1);
                        
                        // Refresh the data
                        loadPendingRegistrations();
                        loadUserManagementData();
                    } else {
                        alert('Error approving registration: ' + data.message);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Error approving registration. Please try again.');
                });
            }
        }

        function rejectUser(registrationId) {
            const reason = prompt('Please provide a reason for rejection:');
            if (reason && reason.trim() !== '') {
                if (confirm('Are you sure you want to reject this registration?')) {
                    const formData = new FormData();
                    formData.append('registration_id', registrationId);
                    formData.append('action', 'reject');
                    formData.append('reason', reason);

                    fetch('../approved_registration.php', {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            alert('Registration rejected successfully!');
                            // Remove the approval card/row
                            const card = document.querySelector(`[data-registration-id="${registrationId}"]`);
                            if (card) {
                                card.style.opacity = '0.5';
                                card.style.pointerEvents = 'none';
                                setTimeout(() => {
                                    card.remove();
                                }, 1000);
                            }
                            
                            // Update pending approvals count
                            updatePendingCount(-1);
                            
                            // Refresh the data
                            loadPendingRegistrations();
                            loadUserManagementData();
                        } else {
                            alert('Error rejecting registration: ' + data.message);
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('Error rejecting registration. Please try again.');
                    });
                }
            }
        }

        function updatePendingCount(change) {
            const pendingCountElement = document.querySelector('.stat-content h3');
            const currentCount = parseInt(pendingCountElement.textContent);
            const newCount = Math.max(0, currentCount + change);
            pendingCountElement.textContent = newCount;
        }

        function resendVerificationEmail(userId, email) {
            if (confirm(`Resend verification email to ${email}?`)) {
                // Simulate API call
                fetch('/api/resend-verification', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        userId: userId,
                        email: email
                    })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        alert('Verification email resent successfully!');
                    } else {
                        alert('Error resending email: ' + data.message);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Error resending email. Please try again.');
                });
            }
        }

        function viewUserDetails(userId) {
            // Simulate API call to get user details
            fetch(`/api/user-details/${userId}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        // Open user details modal or navigate to user details page
                        alert(`Viewing details for user: ${data.user.name}\nEmail: ${data.user.email}\nStatus: ${data.user.status}\nRegistration Date: ${data.user.registration_date}`);
                    } else {
                        alert('Error loading user details: ' + data.message);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Error loading user details. Please try again.');
                });
        }

        function suspendUser(userId) {
            const reason = prompt('Please provide a reason for suspension:');
            if (reason && reason.trim() !== '') {
                if (confirm('Are you sure you want to suspend this user? They will not be able to access their account.')) {
                    // Simulate API call
                    fetch('/api/suspend-user', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            userId: userId,
                            reason: reason,
                            action: 'suspend'
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            alert('User suspended successfully!');
                            // Update the UI to show suspended status
                            location.reload(); // Simple way to refresh the page
                        } else {
                            alert('Error suspending user: ' + data.message);
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('Error suspending user. Please try again.');
                    });
                }
            }
        }

         // Initialize Charts with Real Data
         async function initializeCharts() {
             let dashboardData = null;
             
             try {
                 // Fetch dashboard data
                 const response = await fetch('../get_dashboard_data_simple.php');
                 const data = await response.json();
                 
                 if (!data.success) {
                     console.error('Error fetching dashboard data:', data.error);
                     return;
                 }
                 
                 dashboardData = data.data;
                 
                 // User Growth Chart (Dashboard)
                 const userGrowthCtx = document.getElementById('userGrowthChart');
                 if (userGrowthCtx && dashboardData && dashboardData.charts) {
                     const userGrowthData = dashboardData.charts.user_growth;
                     const labels = userGrowthData.map(item => {
                         const date = new Date(item.month + '-01');
                         return date.toLocaleDateString('en-US', { month: 'short' });
                     });
                     const values = userGrowthData.map(item => parseInt(item.new_users));
                     
                     new Chart(userGrowthCtx, {
                         type: 'line',
                         data: {
                             labels: labels,
                             datasets: [{
                                 label: 'New Users',
                                 data: values,
                                 borderColor: '#8D6E63',
                                 backgroundColor: 'rgba(141, 110, 99, 0.1)',
                                 tension: 0.4,
                                 fill: true
                             }]
                         },
                         options: {
                             responsive: true,
                             maintainAspectRatio: false,
                             plugins: {
                                 legend: {
                                     display: false
                                 }
                             },
                             scales: {
                                 y: {
                                     beginAtZero: true,
                                     grid: {
                                         display: false
                                     }
                                 },
                                 x: {
                                     grid: {
                                         display: false
                                     }
                                 }
                             }
                         }
                     });
                 }
                 
                 // Update dashboard overview cards
                 if (dashboardData && dashboardData.overview) {
                     updateDashboardOverview(dashboardData.overview);
                 }
                 
                 // Update recent activity
                 if (dashboardData && dashboardData.recent_activity) {
                     updateRecentActivity(dashboardData.recent_activity);
                 }
                 
             } catch (error) {
                 console.error('Error initializing charts:', error);
             }
         }
         
         // Update Dashboard Overview Cards
         function updateDashboardOverview(overview) {
             const elements = {
                 'total-users': overview.total_users,
                 'total-boarders': overview.total_boarders,
                 'total-owners': overview.total_owners,
                 'total-boarding-houses': overview.total_boarding_houses,
                 'total-bookings': overview.total_bookings,
                 'pending-bookings': overview.pending_bookings,
                 'confirmed-bookings': overview.confirmed_bookings
             };
             
             Object.entries(elements).forEach(([id, value]) => {
                 const element = document.getElementById(id);
                 if (element) {
                     element.textContent = value.toLocaleString();
                 }
             });
         }
         
         // Update Recent Activity
         function updateRecentActivity(activity) {
             // Update recent users
             const recentUsersContainer = document.querySelector('#recent-users-container');
             if (recentUsersContainer && activity.recent_users) {
                 recentUsersContainer.innerHTML = activity.recent_users.map(user => `
                     <div class="activity-item">
                         <div class="activity-avatar">
                             <img src="${user.profile_picture || 'https://via.placeholder.com/40'}" alt="${user.full_name}">
                         </div>
                         <div class="activity-content">
                             <div class="activity-title">${user.full_name}</div>
                             <div class="activity-subtitle">${user.role}  ${new Date(user.created_at).toLocaleDateString()}</div>
                         </div>
                     </div>
                 `).join('');
             }
             
             // Update recent bookings
             const recentBookingsContainer = document.querySelector('#recent-bookings-container');
             if (recentBookingsContainer && activity.recent_bookings) {
                 recentBookingsContainer.innerHTML = activity.recent_bookings.map(booking => `
                     <div class="activity-item">
                         <div class="activity-content">
                             <div class="activity-title">${booking.boarder_name}</div>
                             <div class="activity-subtitle">${booking.boarding_house_name}  ${booking.booking_status}</div>
                             <div class="activity-date">${new Date(booking.booking_date).toLocaleDateString()}</div>
                         </div>
                     </div>
                 `).join('');
             }
         }

                 // Revenue Chart (Dashboard) - Using booking trends as revenue proxy
                 const revenueCtx = document.getElementById('revenueChart');
                 if (revenueCtx && dashboardData && dashboardData.charts) {
                     const bookingTrendsData = dashboardData.charts.booking_trends;
                     const labels = bookingTrendsData.map(item => {
                         const date = new Date(item.month + '-01');
                         return date.toLocaleDateString('en-US', { month: 'short' });
                     });
                     const values = bookingTrendsData.map(item => parseInt(item.bookings));
                     
                     new Chart(revenueCtx, {
                         type: 'bar',
                         data: {
                             labels: labels,
                             datasets: [{
                                 label: 'Bookings',
                                 data: values,
                                 backgroundColor: '#A97A50',
                                 borderRadius: 4
                             }]
                         },
                         options: {
                             responsive: true,
                             maintainAspectRatio: false,
                             plugins: {
                                 legend: {
                                     display: false
                                 }
                             },
                             scales: {
                                 y: {
                                     beginAtZero: true,
                                     grid: {
                                         display: false
                                     }
                                 },
                                 x: {
                                     grid: {
                                         display: false
                                     }
                                 }
                             }
                         }
                     });
                 }

                 // Property Occupancy Chart (Dashboard) - Using boarding houses by status
                 const propertyOccupancyCtx = document.getElementById('propertyOccupancyChart');
                 if (propertyOccupancyCtx && dashboardData && dashboardData.charts) {
                     const statusData = dashboardData.charts.boarding_houses_by_status;
                     const labels = statusData.map(item => item.status);
                     const values = statusData.map(item => parseInt(item.count));
                     
                     new Chart(propertyOccupancyCtx, {
                         type: 'doughnut',
                         data: {
                             labels: labels,
                             datasets: [{
                                 data: values,
                                 backgroundColor: ['#8D6E63', '#A97A50', '#dc3545'],
                                 borderWidth: 0
                             }]
                         },
                         options: {
                             responsive: true,
                             maintainAspectRatio: false,
                             plugins: {
                                 legend: {
                                     position: 'bottom',
                                     labels: {
                                         padding: 20,
                                         usePointStyle: true
                                     }
                                 }
                             }
                         }
                     });
                 }

             // User Analytics Chart (Analytics Section)
             const userAnalyticsCtx = document.getElementById('userAnalyticsChart');
             if (userAnalyticsCtx) {
                 new Chart(userAnalyticsCtx, {
                     type: 'line',
                     data: {
                         labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                         datasets: [{
                             label: 'Boarders',
                             data: [45, 52, 48, 61],
                             borderColor: '#8D6E63',
                             backgroundColor: 'rgba(141, 110, 99, 0.1)',
                             tension: 0.4
                         }, {
                             label: 'Owners',
                             data: [12, 15, 18, 22],
                             borderColor: '#A97A50',
                             backgroundColor: 'rgba(169, 122, 80, 0.1)',
                             tension: 0.4
                         }]
                     },
                     options: {
                         responsive: true,
                         maintainAspectRatio: false,
                         plugins: {
                             legend: {
                                 position: 'bottom'
                             }
                         },
                         scales: {
                             y: {
                                 beginAtZero: true
                             }
                         }
                     }
                 });
             }

             // Revenue Analytics Chart
             const revenueAnalyticsCtx = document.getElementById('revenueAnalyticsChart');
             if (revenueAnalyticsCtx) {
                 new Chart(revenueAnalyticsCtx, {
                     type: 'bar',
                     data: {
                         labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                         datasets: [{
                             label: 'Revenue (K)',
                             data: [180, 220, 195, 250],
                             backgroundColor: '#A97A50',
                             borderRadius: 4
                         }]
                     },
                     options: {
                         responsive: true,
                         maintainAspectRatio: false,
                         plugins: {
                             legend: {
                                 display: false
                             }
                         },
                         scales: {
                             y: {
                                 beginAtZero: true
                             }
                         }
                     }
                 });
             }

             // Property Analytics Chart
             const propertyAnalyticsCtx = document.getElementById('propertyAnalyticsChart');
             if (propertyAnalyticsCtx) {
                 new Chart(propertyAnalyticsCtx, {
                     type: 'doughnut',
                     data: {
                         labels: ['Occupied', 'Available', 'Maintenance'],
                         datasets: [{
                             data: [76, 10, 3],
                             backgroundColor: ['#8D6E63', '#A97A50', '#dc3545'],
                             borderWidth: 0
                         }]
                     },
                     options: {
                         responsive: true,
                         maintainAspectRatio: false,
                         plugins: {
                             legend: {
                                 position: 'bottom'
                             }
                         }
                     }
                 });
             }

             // Payment Analytics Chart
             const paymentAnalyticsCtx = document.getElementById('paymentAnalyticsChart');
             if (paymentAnalyticsCtx) {
                 new Chart(paymentAnalyticsCtx, {
                     type: 'bar',
                     data: {
                         labels: ['GCash', 'Bank Transfer', 'Cash', 'Credit Card'],
                         datasets: [{
                             label: 'Payment Methods',
                             data: [45, 30, 15, 10],
                             backgroundColor: ['#8D6E63', '#A97A50', '#28a745', '#007bff'],
                             borderRadius: 4
                         }]
                     },
                     options: {
                         responsive: true,
                         maintainAspectRatio: false,
                         plugins: {
                             legend: {
                                 display: false
                             }
                         },
                         scales: {
                             y: {
                                 beginAtZero: true
                             }
                         }
                     }
                 });
             }

             // Geographic Chart
             const geographicCtx = document.getElementById('geographicChart');
             if (geographicCtx) {
                 new Chart(geographicCtx, {
                     type: 'pie',
                     data: {
                         labels: ['Quezon City', 'Makati City', 'Manila City', 'Pasig City', 'Other Areas'],
                         datasets: [{
                             data: [23, 18, 15, 12, 21],
                             backgroundColor: ['#8D6E63', '#A97A50', '#6c757d', '#28a745', '#007bff'],
                             borderWidth: 0
                         }]
                     },
                     options: {
                         responsive: true,
                         maintainAspectRatio: false,
                         plugins: {
                             legend: {
                                 position: 'bottom'
                             }
                         }
                     }
                 });
             }

        // Initialize charts when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            // Load pending registrations on page load
            loadPendingRegistrations();
        });

         // Re-initialize charts when switching to analytics section
         // Note: showSection function is already defined above

         // Simulate real-time updates
         setInterval(() => {
             // Update statistics (simulate)
             const stats = document.querySelectorAll('.stat-content h3');
             stats.forEach(stat => {
                 const currentValue = parseInt(stat.textContent.replace(/,/g, ''));
                 const newValue = currentValue + Math.floor(Math.random() * 3);
                 stat.textContent = newValue.toLocaleString();
             });
         }, 30000); // Update every 30 seconds
    </script>
</body>
</html>
